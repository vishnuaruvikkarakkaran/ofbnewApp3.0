(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,r){},103:function(e,t,r){},105:function(e,t,r){},107:function(e,t,r){},109:function(e,t,r){},111:function(e,t,r){},113:function(e,t,r){},115:function(e,t,r){},117:function(e,t,r){},119:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(39),c=r.n(s),i=(r(60),r(62),r(64),r(66),r(3)),o=r(4),l=r(6),u=r(5),d=r(7),p=r(123),m=r(125),h=r(121),v=r(124),f="TOGGLE_CURRICULUM",g="SET_MENU_OPEN",b=r(1),y=(r(68),r(8)),E=r(122),w=r(42),O=r.n(w),L={},N=Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_BUILD_VER:"2019_11_25"}).REACT_APP_LOCAL_URL,_=new URLSearchParams(window.location.search).get("host");_&&(N="https://".concat(_));var k=N||window.location.protocol+"//"+window.location.host;L.apiUrl=k,L.host=_;var S=L,j=new URLSearchParams(window.location.search).get("token");j=j||localStorage.getItem("token");var I={baseURL:S.apiUrl,crossDomain:!0};j&&(I.headers={"x-api-key":j});var x=O.a.create(I),P=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"curriculam-head"},n.a.createElement("span",{className:"curriculam-head-title"},"Course curriculum"),n.a.createElement("span",{onClick:this.props.onCurriculumToggle,className:"close-icon"}))}}]),t}(a.Component),T=Object(y.b)(null,function(e){return{onCurriculumToggle:function(){return e({type:f})}}})(P),A=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n))))._handleClick=function(){r.props.onSectionToggle(r.props.sectionId)},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{onClick:this._handleClick,className:"curriculam-title curriculam-accordion"},n.a.createElement("h4",null,this.props.sectionName))}}]),t}(a.Component),C=Object(y.b)(null,function(e){return{onSectionToggle:function(t){return e({type:"TOGGLE_SECTION",payload:{sectionId:t}})}}})(A),D=r(120),U=function(e){return e.children},M=r(43),R=r.n(M),H=r(9),q=r(15),G=r.n(q),F=r(17),z={},W=S.apiUrl,B=S.host,Q=new URLSearchParams(window.location.search).get("token");Q=Q||localStorage.getItem("token");var V=function(e,t){var r=parseInt(e,10),a=Math.floor(r/3600),n=Math.floor((r-3600*a)/60),s=r-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),s<10&&(s="0"+s),t?a+":"+n+":"+s:n+":"+s};function J(){var e=document.documentElement;(e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen).call(e)}function Y(){var e=document;(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).call(e)}var Z=function(){var e=Object(F.a)(G.a.mark(function e(t,r,a){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return", AndroidInterface.finish());case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,r,a){return e.apply(this,arguments)}}();function X(e,t,r){return x.get("/content/is_logged_in",{withCredentials:!0}).then(function(a){return 604===a.data.header.code?(console.log("exit => ","Not logged in ",a.data),Z(e,t,r)):a})}function K(){var e={header:{method:"update_percentage"},body:{course_id:z.courseId,subscriber_id:z.subscriptionId,course_percentage:z.percentage,last_played:z.lectureId,lecture_data:z.lectureData,lectureType:z.lectureType,lectureName:z.lectureName}};if(z.isPreview)return Promise.resolve();var t={"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/plain, */*"};return Q&&(t["x-api-key"]=Q),fetch(S.apiUrl+"/content",{method:"POST",mode:"no-cors",headers:t,body:JSON.stringify(e),keepalive:!0})}function $(e){return e? AndroidInterface.isPlaying(true): AndroidInterface.isPlaying(false)}var ee=function(e){var t,r=new Date(e),a=r.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],s=r.getFullYear(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.getDay()],i="".concat(a," ").concat(n," ").concat(s,", ").concat(c),o=function(){if(12===r.getHours())return t="PM","".concat(r.getHours());if(r.getHours()>12){t="PM";var e=r.getHours();return"".concat(e-12)}return t="AM","".concat(r.getHours())}(),l=("0"+r.getMinutes()).slice(-2);return i+" "+"".concat(o.length<2?"0"+o:o,":").concat(l," ").concat(t)},te=function(e){var t=e.studentLog,r=e.overrides,a=e.userDetails,n={canplay:!0,reason:[],batchOverride:{start:!1,end:!1,both:!1,attempts:!1}},s=r[t.lecture_id];try{for(var c=JSON.parse(a),i={startDiff:0,endDiff:0,lo_attempts:0},o=function(e){var r=s[e],a=c.us_batches.split(","),n=r.lo_override_batches.split(",").filter(function(e){return a.indexOf(e)>-1});if(+t.lecture_id===+r.lo_lecture_id&&n.length>0){var o=0,l=0,u=new Date;if(r.lo_start_date&&r.lo_start_time){var d=r.lo_start_time.split(" "),p=d[0].trim(),m=p;if("PM"===d[1].trim()){var h=p.split(":"),v=parseInt(h[0]);m=v<12?"".concat(v+12,":").concat(h[1]):m}var f="".concat(r.lo_start_date,"T").concat(m,":00");(o=new Date(f)-u)>0&&(o<i.startDiff||0===i.startDiff)&&(i=Object(b.a)({},r,{startDiff:o,startDateTime:f}))}if(r.lo_end_date&&r.lo_end_time){var g=r.lo_end_time.replace(/pm/," PM").replace(/am/," AM").split(" "),y=g[0].trim(),E=y;if("PM"===g[1].trim()){var w=y.split(":"),O=parseInt(w[0]);E=O<12?"".concat(O+12,":").concat(w[1]):E}var L="".concat(r.lo_end_date,"T").concat(E,":00"),N=new Date(L),_=null;switch(parseInt(r.lo_period_type)){case 1:_=N.getTime()+864e5*parseInt(r.lo_period);break;case 2:_=N.getTime()+36e5*parseInt(r.lo_period);break;case 3:_=N.getTime()+6e4*parseInt(r.lo_period)}L=_||L,(l=(N=new Date(L))-u)<0&&(l>i.endDiff||0===i.endDiff)&&(i=Object(b.a)({},r,{endDiff:l,endDateTime:L}))}o<0&&l>0&&(i=Object(b.a)({},r,{startDiff:o,endDiff:l}))}},l=0;l<s.length;l++)o(l);if(i.startDiff>0?(n.canplay=!1,n.batchOverride.start=!0,n.reason.push("You can view this lecture after "+ee(i.startDateTime))):i.endDiff<0?(n.canplay=!1,n.batchOverride.end=!0,n.reason.push("This lecture can be viewed until "+ee(i.endDateTime))):i.startDiff<0&&i.endDiff>0&&(n.batchOverride.both=!0),0!==parseInt(i.lo_attempts)&&t.lecture_id>0&&"undefined"!=typeof t.log[t.lecture_id]){var u=t.log[t.lecture_id];(u.nviews?u.nviews:u.views)>=i.lo_attempts&&(n.canplay=!1,n.batchOverride.attempts=!0,n.reason.push("You have completed maximum attempts of this lecture"))}return n}catch(d){return console.log(d),n}},re=function(e){var t=e.studentLog,r=e.access,a=e.pointableLectures,n={canplay:!0,reason:[]};if(!t.batchOverride.attempts&&"undefined"!=typeof t.log[t.lecture_id]){var s=t.log[t.lecture_id],c=+r.access_limit,i=s.nviews?s.nviews:s.views;if(0!==c&&i>=c)return n.canplay=!1,n.reason.push("You have completed maximum views of this lecture"),n}var o=r.course_percentage;if("undefined"!==typeof o&&1===+o.active&&parseInt(o.percentage)>parseInt(t.overall_percentage)&&(n.canplay=!1,n.reason.push("You have to complete "+o.percentage+"% of this course")),!t.batchOverride.start&&!t.batchOverride.both){var l=r.available_from;if("undefined"!==typeof l&&1===+l.active){var u=l.timestamp.split(" "),d=u[0].split("-"),p="".concat(d[2],"-").concat(d[0],"-").concat(d[1],"T").concat(u[1]);new Date(p)>new Date&&(n.canplay=!1,n.reason.push("You can view this lecture after "+ee(p)))}}if(!t.batchOverride.end&&!t.batchOverride.both){var m=r.available_till;if("undefined"!==typeof m&&1===+m.active){var h=m.timestamp.split(" "),v=h[0].split("-"),f="".concat(v[2],"-").concat(v[0],"-").concat(v[1],"T").concat(h[1]);new Date(f)<new Date&&(n.canplay=!1,n.reason.push("This lecture can be viewed until "+ee(f)))}}if("undefined"!==typeof r.activities&&Object.keys(r.activities).length>0){var g=!1,b={canplay:!0,reason:[]};for(var y in"anyone"===r.verify&&b.reason.push("Please complete any one of the following:"),r.activities){if(r.activities.hasOwnProperty(y)){var E=r.activities[y],w="undefined"!=typeof t.log[E.lecture_id]?t.log[E.lecture_id]:null;switch(E.action){case"complete_with_percentage":null===w||"undefined"==typeof w.percentage_of_marks||w.percentage_of_marks<E.percentage?"undefined"!==typeof a[+E.lecture_id]&&(b.canplay=!1,b.reason.push("You need "+E.percentage+" percentage of marks for <b>lecture named "+a[+E.lecture_id].cl_lecture_name+"</b>")):g=!0;break;case"complete":var O=0;w&&(O=w.nviews?w.nviews:w.views),null===w||"undefined"==typeof O||+O<1?"undefined"!==typeof a[+E.lecture_id]&&(b.canplay=!1,b.reason.push("You need to complete <b>lecture named "+a[+E.lecture_id].cl_lecture_name+"</b>")):g=!0}}if(!0===g&&"anyone"===r.verify)break}g&&"anyone"===r.verify||(n.canplay=n.canplay&&b.canplay,n.reason=Object(H.a)(n.reason).concat(Object(H.a)(b.reason)))}return n},ae=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.currLecId!==this.props.currLecId){var t=document.querySelector(".active-timeline");t&&t.scrollIntoView()}}},{key:"render",value:function(){var e=null,t=null;this.props.locked?t=n.a.createElement("p",{className:"curriculam-info-duration text-right"},n.a.createElement("img",{src:R.a,alt:"Locked",width:"20",title:"Locked"})):parseInt(this.props.duration)&&(t=n.a.createElement("p",{className:"curriculam-info-duration text-right",title:"Duration"},V(this.props.duration,!0))),this.props.first||this.props.last?(this.props.last&&!this.props.first&&(e=n.a.createElement("div",{className:"tail-up"})),this.props.first&&!this.props.last&&(e=n.a.createElement("div",{className:"tail-down"}))):e=n.a.createElement(U,null,n.a.createElement("div",{className:"tail-up"}),n.a.createElement("div",{className:"tail-down"}));var r=["timeline-row"],a={1:"video",2:"document",3:"quiz",4:"video",5:"code",7:"video",8:"assignment",9:"video",10:"drop",11:"video",12:"audio",14:"certificate"}[this.props.type];this.props.attempts>0||this.props.percentage>99?(r[r.length]="completed-curriculam",a+="-green"):0===this.props.percentage&&0===this.props.percentage?a+="-grey":a+="-blue";var s=["milestone-icon",a];return+this.props.currLecId===+this.props.lectureId&&(r[r.length]="active-timeline"),n.a.createElement("div",{className:r.join(" ")},n.a.createElement(D.a,{to:"/".concat(this.props.courseId,"/").concat(this.props.lectureId),onClick:this.props.onCurriculumToggle},n.a.createElement("span",{className:"curriculam-progress",style:{width:this.props.percentage+"%"}}),n.a.createElement("div",{className:"milestone-holder"},n.a.createElement("span",{className:"milestone"},this.props.attempts>0||this.props.percentage>99?n.a.createElement("span",{className:"ticked"}):null,n.a.createElement("span",{className:s.join(" ")})),e),n.a.createElement("div",{className:"timeline-text text-justify"},n.a.createElement("p",{className:"curriculam-info-text"},this.props.lectureName),t,0===this.props.totalAttempts?null:n.a.createElement("p",{className:"curriculam-info-view text-right orange-text"},n.a.createElement("span",{className:"orange-eye"})," ",this.props.attempts," / ",this.props.totalAttempts))))}}]),t}(a.Component),ne=Object(y.b)(function(e){return{currLecId:e.currLecId,isPreview:e.isPreview}},function(e){return{onCurriculumToggle:function(){return e({type:f})}}})(Object(v.a)(ae)),se=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={lectures:[]},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({lectures:this.props.lectures})}},{key:"componentDidUpdate",value:function(){this.mounted&&!this.state.lectures.length&&this.props.lectures.length&&this.setState({lectures:this.props.lectures})}},{key:"componentWillReceiveProps",value:function(){this.mounted&&this.setState({lectures:this.props.lectures})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=null;if(this.state.lectures.length){var r=0;this.state.lectures.map(function(e){return 13!==+e.cl_lecture_type&&(r=+e.id),e});var a=0;t=this.state.lectures.map(function(t,s){if(13!==+t.cl_lecture_type){a++;var c=!1,i={canplay:!0,reason:[]},o={canplay:!0,reason:[]};return e.props.override[t.id]&&e.props.override[t.id].length>0&&(i=te({studentLog:Object(b.a)({},e.props.lectureLog,{lecture_id:t.id}),overrides:e.props.override,userDetails:e.props.config.user_details})),(t.cl_access_restriction||+t.cl_limited_access)&&e.props.lectureLog&&(o=re({studentLog:Object(b.a)({},e.props.lectureLog,{lecture_id:t.id,batchOverride:Object(b.a)({},i.batchOverride)}),access:Object(b.a)({},JSON.parse(t.cl_access_restriction),{access_limit:t.cl_limited_access}),pointableLectures:Object(b.a)({},e.props.pointableLectures)})),i.canplay&&o.canplay||(c=!0),[3,8,10,14].indexOf(+t.cl_lecture_type)>-1&&e.props.isPreview&&(c=!0),n.a.createElement(ne,{key:t.id,first:1===a,last:r===+t.id,lectureName:t.cl_lecture_name,lectureId:t.id,type:t.cl_lecture_type,totalAttempts:t.cl_limited_access,attempts:t.views,percentage:t.percentage,courseId:e.props.courseId,locked:c,duration:t.cl_duration})}return null})}return n.a.createElement("div",{className:this.props.collapsed?"curriculam-collapse":"curriculam"},t)}}]),t}(a.Component),ce=Object(y.b)(function(e){return{config:e.config,lectureLog:e.lectureLog,override:e.override,pointableLectures:e.pointableLectures,isPreview:e.isPreview}})(Object(v.a)(se)),ie=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=null,r.previewTimerObj=null,r.savePreviewTime=function(){var e={header:{service:"",method:"save_course_preview_time"},body:{course_id:r.props.match.params.courseId}};return x.post("/content",JSON.stringify(e)).then(function(t){if(!t.data)return console.log("exit => ","No response ",e,t),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug);if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug)}else;return t})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.currList){console.log( AndroidInterface.progressDismiss());var e=!1;try{var t=localStorage.getItem("resume_id");e=(e=!!t&&JSON.parse(t))instanceof Object&&e}catch(f){e=!1}var r=this.props.currList;if(0===r.curriculum.sections.length)return console.log("exit => ","No curriculum sections found ",r),Z(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);if(!r.curriculum.subscription){if(!(this.props.previewEnabled&&this.props.previewTimer>0))return console.log("exit => ","Preview expired/disabled or not subscribed ",r),Z(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);this.props.setPreview();var a=new Date(Date.now()+864e5),n=a.getMonth()+1,s=a.getFullYear()+"-"+(n<10?"0".concat(n):n)+"-"+a.getDate();r.curriculum.subscription={id:!0,cs_course_id:this.props.match.params.courseId,cs_percentage:"0",cs_lecture_log:"",cs_last_played_lecture:"",cs_end_date:s}}if((r.curriculum.subscription.cs_end_date?new Date("".concat(r.curriculum.subscription.cs_end_date,"T23:55:00")).getTime():0)<Date.now())return console.log("exit => ","Subscription ended ",r),Z(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);if(0===+r.curriculum.subscription.cs_approved)return console.log("exit => ","Subscription not approved ",r),Z(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);this.props.match.params.lectureId&&(r.curriculum.subscription.cs_last_played_lecture=this.props.match.params.lectureId);var c,i=Object(b.a)({},r.curriculum.sections),o=!1;for(var l in i)if(i.hasOwnProperty(l))for(var u in c||(c=+i[l].s_lectures[0].id),i[l].s_lectures)("undefined"!==typeof this.props.match.params.lectureId&&+i[l].s_lectures[u].id===+this.props.match.params.lectureId||0!==+r.curriculum.subscription.cs_last_played_lecture&&+i[l].s_lectures[u].id===+r.curriculum.subscription.cs_last_played_lecture||0===+r.curriculum.subscription.cs_last_played_lecture)&&(o=!0);o||(r.curriculum.subscription.cs_last_played_lecture=c);var d=r,p=this.props.match.params.tab,m=this.props.match.params.courseId,h="cid_".concat(m);if("resume"===p&&e&&e[h]){d.curriculum.subscription.cs_last_played_lecture=e[h];var v="/".concat(m,"/").concat(e[h]);this.props.history.push(v)}(e=e||{})[h]=+this.props.match.params.lectureId,localStorage.setItem("resume_id",JSON.stringify(e)),this.props.onCurriculumSet(Object(b.a)({},d))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(e,t){var r=this;this.mounted&&e.isPreview!==this.props.isPreview&&(console.log(this.props.isPreview),this.props.isPreview&&(this.previewTimerObj=setInterval(function(){r.props.setPreviewTime(!1),r.props.previewTimer%5!==0&&3!==r.props.previewTimer||r.savePreviewTime().catch(function(e){return console.log("exit => ","error: ",e),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug)})},1e3)))}},{key:"render",value:function(){var e=this,t=this.props.currLoaded?this.props.curriculum:[];t=t.map(function(t,r){return t.id===e.props.currentSectionId&&(t.open=!0),n.a.createElement(U,{key:r},t.lectureCount?n.a.createElement(C,{key:r,sectionId:t.id,sectionName:t.s_name}):null,n.a.createElement(ce,{courseId:e.props.subscription.cs_course_id,collapsed:!t.open,currentLectureId:e.props.currentLectureId,lectures:t.s_lectures}))});var r=n.a.createElement("div",{className:"curriculam-wrapper"},n.a.createElement(T,null),n.a.createElement("div",{className:"curriculam-container"},t)),a="/".concat(this.props.match.params.courseId,"/").concat(this.props.currentLectureId);return this.mounted&&!+this.props.match.params.lectureId&&-1===window.location.href.indexOf(a)&&(r=n.a.createElement(E.a,{to:a})),r}}]),t}(a.Component),oe=Object(y.b)(function(e){return{curriculum:e.curriculum,currLoaded:e.curriculumLoaded,currentLectureId:e.currLecId,currentSectionId:e.currSecId,subscription:e.subscription?e.subscription:null,isPreview:e.isPreview,previewEnabled:e.previewEnabled,previewTimer:e.previewTimer,courseSlug:e.course.cb_slug}},function(e){return{setPreview:function(){return e({type:"SET_PREVIEW"})},onCurriculumSet:function(t){return e({type:"SET_CURRICULUM",payload:{data:t}})},setPreviewTime:function(t){return e({type:"SET_PREVIEWTIME",payload:t})}}})(Object(v.a)(ie)),le=r(45),ue=(r(38),function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bbd+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t}),de=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={currLecture:null,currLectureId:0},r.curriculumToggleHandler=function(){r.props.onCurriculumToggle()},r.discussionToggleHandler=function(){r.props.onDiscussionToggle()},r.backToDashboard=function(){if(!ue())return Z(r.props.course.id,r.props.isPreview,r.props.courseSlug);r.props.menuOpenFn()},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentDidUpdate",value:function(){this.mounted=!0,this.mounted&&"undefined"!==typeof this.props.currLecture.id&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return n.a.createElement("div",{className:"nav-container"},n.a.createElement("div",{className:"nav-header dark-header"},n.a.createElement("div",{className:"menu-icon"},n.a.createElement("span",{className:"menu",onClick:this.curriculumToggleHandler})),n.a.createElement("div",{className:"text-left contenttitle"},n.a.createElement("span",{className:"lecture-title"},this.state.currLecture?this.state.currLecture.cl_lecture_name:null),n.a.createElement("div",{className:"curriculam-index"},n.a.createElement("span",null,"Section : ",this.state.currLecture?this.state.currLecture.sNumber:null," \xa0"),n.a.createElement("span",null,"Lecture : ",this.state.currLecture?this.state.currLecture.lNumber:null))),n.a.createElement("div",{className:"text-right ask-wrapper"},n.a.createElement("span",{title:"Back to course dashboard.",className:"close-icon",onClick:this.backToDashboard}))))}}]),t}(a.Component),pe=Object(y.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,course:e.course,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onCurriculumToggle:function(){return e({type:f})},onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})},menuOpenFn:function(){return e({type:g,payload:!0})}}})(de),me=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,r.state={materialUrl:""},r._handleClick=function(){r.props.onShowList()},r._listDocs=function(e){return e.map(function(e,t){var a=r.state.materialUrl.replace("{file}",e.file_raw_name),s=e.file_name.split(".");s.pop();var c=s.join("");return n.a.createElement("li",{key:t},n.a.createElement("a",{href:a,download:c,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("span",{className:"download-icon"},n.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"})))),e.file_name))})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"formatUrl",value:function(){var e=this.props.config.materialUrl;this.props.courseId&&e&&(e=(e=e.replace("{courseId}",this.props.courseId)).replace("{purpose}","support_files"),this.setState({materialUrl:e}))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.formatUrl()}},{key:"componentDidUpdate",value:function(e){this.mounted&&e.courseId!==this.props.courseId&&this.formatUrl()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){try{var e=this.props.currentLecture;if(e){var t=e.cl_support_files;delete(t=t?JSON.parse(t):{})[""];var r=Object.values(t);if(r.length>0)return n.a.createElement("div",{className:this.props.showList?"supported-docs":""},n.a.createElement("div",{className:this.props.showList?"list-open":"list-close"},n.a.createElement("ul",null,n.a.createElement("li",{className:"doc_ul_title"},n.a.createElement("span",null,"Supported Documents"),n.a.createElement("span",{className:"close-doc",onClick:this._handleClick},"\xd7")),n.a.createElement("div",{className:"custom-scroller overflow-list"},this._listDocs(r)))))}}catch(a){console.log(a)}return null}}]),t}(a.Component);var he=Object(y.b)(function(e){return{config:e.config,currentLecture:e.currLecture,showList:e.showList,courseId:e.subscription.cs_course_id}},function(e){return{onShowList:function(){return e({type:"SHOW_LIST"})}}})(me),ve=r(24),fe=r.n(ve);var ge=Object(y.b)(function(e){return{currOpen:!!e.currOpen&&e.currOpen,dissOpen:!!e.dissOpen&&e.dissOpen}})(function(e){var t={};return e.currOpen&&(t={left:"35%",width:"65%",transition:"0.6s ease width"}),e.dissOpen&&(t={right:"35%",width:"65%",transition:"0.6s ease width"}),n.a.createElement("div",{className:e.modalClasses,style:t},n.a.createElement("div",{className:"modal-wrap"},n.a.createElement("div",{className:"popup-content np"},n.a.createElement("h2",null,"Lecture Description"),n.a.createElement("div",{className:"modal-desc"},e.description),n.a.createElement("div",{className:"confirm-btn-wrapper desc-btns"},n.a.createElement("button",{className:"pop-btn-ok",onClick:e.clickHandler,type:"button"},"Close")))))}),be=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,r.state={currentLecture:null,modalClasses:"modal-container"},r._handleFullscreenChange=function(e){var t=e.target,a=document.fullscreenElement===t;(a&&!r.props.fullScreen||!a&&r.props.fullScreen)&&r.props.setFullScreen()},r._cancelHandler=function(){r.setState({modalClasses:"modal-container"}),r.props.setModalOpen(!1)},r._modalOpenHandler=function(){r.state.modalClasses.includes("visible")?r._cancelHandler():(r.setState({modalClasses:"modal-container visible"}),r.props.setModalOpen(!0))},r.lectureSwitch=function(e){var t="/".concat(r.props.match.params.courseId,"/").concat(e.lectureId);r.props.history.push({pathname:t,state:{action:e.direction}})},r.discussionToggleHandler=function(){r.props.onDiscussionToggle()},r._handleClick=function(){r.props.onShowList(),r.props.currOpen&&r.props.onCurriculumToggle()},r._toggleFullScreen=function(){r.props.fullScreen?Y():J(),r.props.setFullScreen()},r._showSupportDocButton=function(){var e=r.props.currentLecture.cl_support_files;delete(e=e?JSON.parse(e):{})[""];var t=Object.values(e);return!r.props.isPreview&&t.length>0?n.a.createElement("div",{className:"footer-left-col toggle-docs",onClick:r._handleClick,title:"Support Files"},n.a.createElement("span",{className:"download-icon"},n.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"#595959",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"}))))):n.a.createElement("div",{className:"div-pad"})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,document.addEventListener("fullscreenchange",this._handleFullscreenChange),document.addEventListener("mozfullscreenchange",this._handleFullscreenChange),document.addEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.addEventListener("msfullscreenchange",this._handleFullscreenChange),this.mounted&&!this.state.currentLecture&&this.props.currentLecture&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&e.currentLecture&&this.props.currentLecture.id!==e.currentLecture.id&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("fullscreenchange",this._handleFullscreenChange),document.removeEventListener("mozfullscreenchange",this._handleFullscreenChange),document.removeEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.removeEventListener("msfullscreenchange",this._handleFullscreenChange)}},{key:"render",value:function(){var e=this,t=null,r=null,a=null;return this.state.currentLecture&&this.state.currentLecture.cl_lecture_description&&(a=this.state.currentLecture.cl_lecture_description),this.state.currentLecture&&this.state.currentLecture.nexLecture&&"undefined"!==typeof this.state.currentLecture.nexLecture.id&&(t=this.state.currentLecture.nexLecture),this.state.currentLecture&&"undefined"!==typeof this.state.currentLecture.prevLecture.id&&(r=this.state.currentLecture.prevLecture),n.a.createElement(n.a.Fragment,null,a&&n.a.createElement(ge,{description:a,modalClasses:this.state.modalClasses,clickHandler:this._cancelHandler}),n.a.createElement(he,null),n.a.createElement("div",{className:"lecture-footer-container"},n.a.createElement("div",{className:"lecture-footer preview-area"},n.a.createElement("div",null,this._showSupportDocButton(),a&&n.a.createElement("div",{className:"desc-icon",title:"Lecture Description",onClick:this._modalOpenHandler},n.a.createElement("img",{src:fe.a,width:"30",alt:"Lecture Description"})),this.props.isPreview&&n.a.createElement("div",{title:"Preview time",className:"time-ramining align-items-center"},n.a.createElement("span",null,"Time left:"),n.a.createElement("span",{className:"time"},"\xa0",V(this.props.previewTimer)))),n.a.createElement("div",{className:"footer-right-col"},r?n.a.createElement("div",{title:"Previous Lecture",onClick:function(){e.lectureSwitch({direction:"backward",lectureId:r.id})},className:"prev-lecture"},n.a.createElement("span",null,"Prev")):r,t?n.a.createElement("div",{title:"Next Lecture",onClick:function(){e.lectureSwitch({direction:"forward",lectureId:t.id})},className:"next-lecture"},n.a.createElement("span",null,"Next")):t,!this.props.isPreview&&n.a.createElement("div",{title:"Ask a question"},n.a.createElement("span",{className:"ask-holder",onClick:this.discussionToggleHandler},n.a.createElement("span",{className:"ask"},"Ask")," ",n.a.createElement("span",{className:"ask-icon"},"?")))))))}}]),t}(a.Component),ye=Object(y.b)(function(e){return{currentLecture:e.currLecture,currOpen:!!e.currOpen&&e.currOpen,isPreview:e.isPreview,previewTimer:e.previewTimer,fullScreen:e.fullScreen}},function(e){return{onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})},onShowList:function(){return e({type:"SHOW_LIST"})},onCurriculumToggle:function(){return e({type:f})},setFullScreen:function(){return e({type:"SET_FULLSCREEN"})},setModalOpen:function(t){return e({type:"SET_MODALOPEN",payload:t})}}})(Object(v.a)(be)),Ee=r(25),we=r.n(Ee),Oe=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={currLecture:null,timer:0,cue:0,percentage:0,showPoster:!0},r.onPercentageUpdate=function(e){var t=Math.ceil(100*e.percent),a=r.state.timer;e.seconds%5!==0&&r.mounted&&r.setState({timer:Math.ceil(e.seconds),cue:e.seconds,percentage:t},function(){a===r.state.timer&&100!==t||r.props.onPercentageUpdate({percentage:t,cue:r.state.timer,lectureId:r.state.currLecture.id,completed:e.completed})}),e.completed&&r.mounted&&r.props.onComplete()},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.mounted&&this.props.currLecture){var e=this.props.currLecture.percentage,t=this.props.currLecture.cl_duration*e/100;this.setState({currLecture:Object(b.a)({},this.props.currLecture),cue:t})}X(this.props.courseId,this.props.isPreview,this.props.courseSlug).catch(console.log),console.log($(!0))}},{key:"componentDidUpdate",value:function(){this.mounted&&"undefined"!==typeof this.props.currLecture.id&&this.state.currLecture&&+this.props.currLecture.id!==+this.state.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),cue:this.props.currLecture.cue})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props.videoHeight,r=this.state.currLecture&&this.state.currLecture.cl_filename?this.state.currLecture.cl_filename.split("/"):null,a=null;return(r=(r=r?r[r.length-1]:null)?r.split("?")[0]:null)&&(a=n.a.createElement(le.a,{id:"vimeo",video:r,className:"vimeo video-container",height:t,autoplay:this.props.autoPlay,start:this.state.cue,volume:.5,responsive:!0,paused:this.props.descModalOpen,onTimeUpdate:function(t){return e.onPercentageUpdate(Object(b.a)({},t,{completed:!1}))},onEnd:function(t){e.onPercentageUpdate(Object(b.a)({},t,{completed:!0}))},onReady:function(){e.setState({showPoster:!1})}})),n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture"},n.a.createElement(pe,null),a,this.state.showPoster&&n.a.createElement("div",{className:"poster-center poster-container"},n.a.createElement("img",{src:we.a,alt:"Poster",className:"poster-img"})),n.a.createElement(ye,null))}}]),t}(a.Component),Le=Object(y.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,descModalOpen:e.descModalOpen}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Oe),Ne=r(53),_e=null,ke=0,Se=0,je=0,Ie=["black-watermark","white-watermark","skyblue-watermark","orange-watermark","yellow-watermark"],xe=window.flowplayer,Pe="".concat(W,"/uploads/").concat(B,"/course/{courseId}/videos/"),Te=new Ne.a(function(e,t){var r=!0,a=!1,n=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var i=s.value;"fp-player"===i.target.className&&(ke=i.contentRect.width,Se=i.contentRect.height,je=0)}}catch(o){a=!0,n=o}finally{try{r||null==c.return||c.return()}finally{if(a)throw n}}}),Ae=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).mounted=!1,r.player=!1,r.videoProgress={},r.state={timer:0,cue:0,percentage:0,errored:!1,watermarkStyle:{},showPoster:!0},r.watermark=function(e){var t=document.querySelector(e.selector),a=r.props.userDetails.us_phone?r.props.userDetails.us_phone:r.props.userDetails.us_name,n=document.createElement("div");n.setAttribute("class","watermark"),n.textContent=a,t.appendChild(n),ke=t.clientWidth,Se=t.offsetHeight,Te.observe(t),_e&&clearInterval(_e),_e=setInterval(function(){var e=Ie[Math.floor(Math.random()*Ie.length+1)],r=e?"watermark ".concat(e):"watermark",a={};a.left=Math.floor(Math.random()*(ke-n.offsetWidth)+1)+"px",je+=50,a.top=je+"px",je>Se-100&&(je=0),n.setAttribute("class",r),n.style.left=a.left,n.style.top=a.top,t.removeChild(n),t.appendChild(n)},5e3)},r.onReady=function(e,t){if(r.props.currLecture){var a=r.videoProgress["".concat(r.props.courseId,"_").concat(r.props.currLecture.id)]||r.props.currLecture.cue;r.setState({cue:a}),t.seek(a),t.volume(.5),r.props.autoPlay&&t.play(),r.watermark({selector:".fp-player"})}},r.onTimeUpdate=function(e,t){var a=t.ready?t.video.time:0,n=a/(t.ready?t.video.duration:0);r.state.showPoster&&r.setState({showPoster:!1}),r.onPercentageUpdate({seconds:a,percent:n,completed:!1})},r.onEnded=function(e,t){var a=t.ready?t.video.duration:0;r.onPercentageUpdate({seconds:a,percent:1,completed:!0})},r.onPaused=function(e,t){var a=t.ready?t.video.time:0;r.videoProgress["".concat(r.props.courseId,"_").concat(r.props.currLecture.id)]=a,localStorage.setItem("video_progress",JSON.stringify(r.videoProgress))},r.onError=function(e,t){r.player.shutdown(),r.setState({errored:!0})},r.onShutdown=function(e,t){t.engine&&t.engine.hls.stopLoad()},r.onPercentageUpdate=function(e){var t=Math.ceil(100*e.percent),a=r.state.timer;e.seconds%5!==0&&r.mounted&&r.setState({timer:Math.ceil(e.seconds),cue:e.seconds,percentage:t},function(){a===r.state.timer&&100!==t||r.props.onPercentageUpdate({percentage:t,cue:r.state.timer,lectureId:r.props.currLecture.id,completed:e.completed})}),e.completed&&r.mounted&&r.props.onComplete()},window.TGN.fetchTokens(),r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){try{this.mounted=!0,this.videoProgress=localStorage.getItem("video_progress"),this.videoProgress=this.videoProgress?JSON.parse(this.videoProgress):{},this.mounted&&this.props.currLecture&&(this.initPlayer(),this.player.one("ready",this.onReady),this.player.on("progress",this.onTimeUpdate),this.player.on("finish",this.onEnded),this.player.on("pause",this.onPaused),this.player.on("error",this.onError),this.player.on("shutdown",this.onShutdown)),X(this.props.courseId,this.props.isPreview,this.props.courseSlug).catch(console.log),console.log($(!0))}catch(e){}}},{key:"initPlayer",value:function(){var e=Pe.replace("{courseId}",this.props.courseId),t="".concat(e).concat(this.props.videoId);xe(function(e,t){var r=t.querySelector(".fp-fullscreen");e.on("ready",function(){t.querySelector(".fp-controls").appendChild(r)})}),this.player=xe("#player",{embed:!1,hlsQualities:!0,seekable:!0,hlsjs:{startLevel:0},clip:{hlsjs:{safari:!0},sources:[{type:"application/vnd.apple.mpegurl",src:t},{type:"application/x-mpegurl",src:t}],qualities:["240p","360p","480p","720p","1080p"],defaultQuality:"240p"}})}},{key:"componentDidUpdate",value:function(e){this.mounted&&this.props.currLecture&&this.props.currLecture.cue!==e.currLecture.cue&&this.setState({cue:this.props.currLecture.cue})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;try{this.player.stop(),this.player.unload(),this.player.shutdown(),this.player.off("ready",this.onReady),this.player.off("progress",this.onTimeUpdate),this.player.off("finish",this.onEnded),this.player.off("pause",this.onPaused),this.player.off("error",this.onError),this.player.off("shutdown",this.onShutdown),this.player=null,clearInterval(_e),Te.disconnect()}catch(e){console.log(e)}}},{key:"render",value:function(){this.props.descModalOpen&&this.player.pause();var e=this.props.videoHeight;return this.state.errored?n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture"},n.a.createElement(pe,null),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder locked-content"},n.a.createElement("h5",{className:"locked-title"},"The video is being processed."),n.a.createElement("h5",{className:"locked-title"},"Please try again later."))),n.a.createElement(ye,null)):n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture"},n.a.createElement(pe,null),n.a.createElement("div",{className:"video-container"},n.a.createElement("div",{id:"player",style:{height:e},className:"flplayer"}),this.state.showPoster&&n.a.createElement("div",{className:"poster-center poster-container"},n.a.createElement("img",{src:we.a,alt:"Poster",className:"poster-img"}))),n.a.createElement(ye,null))}}]),t}(a.Component),Ce=Object(y.b)(function(e){var t={};try{t=JSON.parse(e.config.user_details)}catch(r){console.log(r)}return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,userDetails:t,descModalOpen:e.descModalOpen}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Ae),De=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return n.a.createElement("div",{style:{backgroundColor:"#444"},className:"video-lecture"},n.a.createElement(pe,null),n.a.createElement("h4",{className:"instruction-info"},"Available later."),n.a.createElement(ye,null))}}]),t}(n.a.Component),Ue=Object(y.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen}},null)(De),Me=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={currLecture:null,currLectureId:0},r.curriculumToggleHandler=function(){r.props.onCurriculumToggle()},r.backToDashboard=function(){if(!ue())return Z(r.props.course.id,r.props.isPreview,r.props.courseSlug);r.props.menuOpenFn()},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&this.props.currLecture&&this.props.currLecture.id!==e.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=null,t=!0;if(this.state.currLecture){var r=["nav-container"];-1!==[3,8].indexOf(+this.state.currLecture.cl_lecture_type)&&r.push("nav-height");var a="Lecture";switch(+this.state.currLecture.cl_lecture_type){case 13:a="Survey";break;case 3:a="Quiz";break;case 8:a="Assignment";break;default:a="Lecture"}-1!==[5,13,3,8].indexOf(+this.state.currLecture.cl_lecture_type)&&(t=!1),e=n.a.createElement("div",{className:r.join(" ")},n.a.createElement("div",{className:"nav-header",style:{background:2===+this.state.currLecture.cl_lecture_type?null:"none"}},n.a.createElement("div",{className:"menu-icon"},n.a.createElement("span",{className:"menu",onClick:this.curriculumToggleHandler})),(t||this.props.locked)&&this.state.currLecture?n.a.createElement("div",{className:"text-left contenttitle"},n.a.createElement("span",{className:"lecture-title"},this.state.currLecture?this.state.currLecture.cl_lecture_name:null),n.a.createElement("div",{className:"curriculam-index"},n.a.createElement("span",null,"Section : ",this.state.currLecture?this.state.currLecture.sNumber:null," \xa0"),n.a.createElement("span",null,a," : ",this.state.currLecture?this.state.currLecture.lNumber:null))):null,n.a.createElement("div",{title:"Back to course dashboard.",className:"text-right ask-wrapper"},n.a.createElement("span",{className:"close-icon",onClick:this.backToDashboard}))))}return e}}]),t}(a.Component);var Re=Object(y.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,course:e.course,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onCurriculumToggle:function(){return e({type:f})},menuOpenFn:function(){return e({type:g,payload:!0})}}})(Me),He=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,r.state={currentLecture:null,modalClasses:"modal-container"},r._handleFullscreenChange=function(e){var t=e.target,a=document.fullscreenElement===t;(a&&!r.props.fullScreen||!a&&r.props.fullScreen)&&r.props.setFullScreen()},r.lectureSwitch=function(e){var t="/".concat(r.props.match.params.courseId,"/").concat(e.lectureId);r.props.history.push({pathname:t,state:{action:e.direction}})},r._cancelHandler=function(){r.setState({modalClasses:"modal-container"}),r.props.setModalOpen(!1)},r._modalOpenHandler=function(){r.state.modalClasses.includes("visible")?r._cancelHandler():(r.setState({modalClasses:"modal-container visible"}),r.props.setModalOpen(!0))},r.discussionToggleHandler=function(){r.props.onDiscussionToggle()},r._handleClick=function(){r.props.onShowList(),r.props.currOpen&&r.props.onCurriculumToggle()},r._toggleFullScreen=function(){r.props.fullScreen?Y():J(),r.props.setFullScreen()},r._showSupportDocButton=function(){var e=r.props.currentLecture.cl_support_files;delete(e=e?JSON.parse(e):{})[""];var t=Object.values(e);return!r.props.isPreview&&t.length>0?n.a.createElement("div",{className:"footer-left-col toggle-docs",onClick:r._handleClick,title:"Support Files"},n.a.createElement("span",{className:"download-icon"},n.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"#595959",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"}))))):n.a.createElement("div",{className:"div-pad"})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,document.addEventListener("fullscreenchange",this._handleFullscreenChange),document.addEventListener("mozfullscreenchange",this._handleFullscreenChange),document.addEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.addEventListener("msfullscreenchange",this._handleFullscreenChange),this.mounted&&!this.state.currentLecture&&this.props.currentLecture&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&e.currentLecture&&this.props.currentLecture.id!==e.currentLecture.id&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("fullscreenchange",this._handleFullscreenChange),document.removeEventListener("mozfullscreenchange",this._handleFullscreenChange),document.removeEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.removeEventListener("msfullscreenchange",this._handleFullscreenChange)}},{key:"render",value:function(){var e=this,t=null,r=null,a=null;return this.state.currentLecture&&this.state.currentLecture.cl_lecture_description&&(a=this.state.currentLecture.cl_lecture_description),this.state.currentLecture&&this.state.currentLecture.nexLecture&&"undefined"!==typeof this.state.currentLecture.nexLecture.id&&(t=this.state.currentLecture.nexLecture),this.state.currentLecture&&"undefined"!==typeof this.state.currentLecture.prevLecture.id&&(r=this.state.currentLecture.prevLecture),n.a.createElement(n.a.Fragment,null,a&&n.a.createElement(ge,{description:a,modalClasses:this.state.modalClasses,clickHandler:this._cancelHandler}),n.a.createElement(he,null),n.a.createElement("div",{className:"lecture-footer-container"},n.a.createElement("div",{className:"lecture-footer"},n.a.createElement("div",null,this._showSupportDocButton(),a&&n.a.createElement("div",{className:"desc-icon",title:"Lecture Description",onClick:this._modalOpenHandler},n.a.createElement("img",{src:fe.a,width:"30",alt:"Lecture Description"})),this.props.isPreview&&n.a.createElement("div",{title:"Preview time",className:"time-ramining align-items-center"},n.a.createElement("span",null,"Time left:"),n.a.createElement("span",{className:"time"},"\xa0",V(this.props.previewTimer)))),n.a.createElement("div",{className:"footer-right-col"},r?n.a.createElement("div",{title:"Previous Lecture",onClick:function(){e.lectureSwitch({direction:"backward",lectureId:r.id})},className:"prev-lecture"},n.a.createElement("span",null,"Prev")):r,t?n.a.createElement("div",{title:"Next Lecture",onClick:function(){e.lectureSwitch({direction:"forward",lectureId:t.id})},className:"next-lecture"},n.a.createElement("span",null,"Next")):t,!this.props.isPreview&&n.a.createElement("div",{title:"Ask a question"},n.a.createElement("span",{className:"ask-holder",onClick:this.discussionToggleHandler},n.a.createElement("span",{className:"ask"},"Ask")," ",n.a.createElement("span",{className:"ask-icon"},"?")))))))}}]),t}(a.Component),qe=Object(y.b)(function(e){return{currentLecture:e.currLecture,currOpen:!!e.currOpen&&e.currOpen,isPreview:e.isPreview,previewTimer:e.previewTimer,fullScreen:e.fullScreen}},function(e){return{onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})},onShowList:function(){return e({type:"SHOW_LIST"})},onCurriculumToggle:function(){return e({type:f})},setFullScreen:function(){return e({type:"SET_FULLSCREEN"})},setModalOpen:function(t){return e({type:"SET_MODALOPEN",payload:t})}}})(Object(v.a)(He));r(19);function Ge(){var e=document.getElementById("documentFrame");e.contentDocument&&"about:blank"===e.contentDocument.URL&&(e.src+="")}var Fe=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.docLoadTimer=null,r.continueFull=function(){r.mounted&&r.setState({showModal:!1},function(){var e=document.documentElement;(e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen).call(e)})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.docLoadTimer=setInterval(Ge,2e3),document.getElementById("documentFrame").onload=function(){clearInterval(e.docLoadTimer),e.props.onPercentageUpdate({percentage:100,cue:0,lectureId:e.props.lectureId,completed:!0})},X(this.props.courseId,this.props.isPreview,this.props.courseSlug).catch(console.log),console.log($(!1))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.docLoadTimer)}},{key:"render",value:function(){var e=this.props.config.documentUrl;return e=(e=e.replace("{docId}",this.props.documentId)).replace("{courseId}",this.props.courseId),n.a.createElement("div",{className:"preview-area document-preview"},n.a.createElement(Re,null),n.a.createElement("div",{className:"lecture-holder overflow-visible active-doc-over"},n.a.createElement("div",{className:"context-holder document-context documentframe-container"},n.a.createElement("iframe",{id:"documentFrame",ref:"documentFrame",title:"Document",width:"100%",height:"100%",style:{border:"none"},src:e}))),n.a.createElement(qe,null))}}]),t}(a.Component),ze=Object(y.b)(function(e){return{config:e.config,currLecture:e.currLecture,currOpen:e.currOpen,course:e.course,showList:e.showList,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Fe),We=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={currLecture:null,currLectureId:0},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&e.currLecture&&this.props.currLecture.id!==e.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=null;if(this.state.currLecture){var t="Lecture";switch(+this.state.currLecture.cl_lecture_type){case 13:t="Survey";break;case 3:t="Quiz";break;case 8:t="Assignment";break;default:t="Lecture"}e=n.a.createElement("div",{className:"scrollable-title-wrapper"},n.a.createElement("div",{className:"content-title"},this.state.currLecture?this.state.currLecture.cl_lecture_name:null),n.a.createElement("div",{className:"content-title-index"},n.a.createElement("span",{className:"section-count"},"Section :",this.state.currLecture?this.state.currLecture.sNumber:null),n.a.createElement("span",{className:"topic-count"},t," : ",this.state.currLecture?this.state.currLecture.lNumber:null)))}return e}}]),t}(a.Component),Be=Object(y.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,course:e.course}},null)(We),Qe=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={content:null,lectureId:0,contentLoaded:!1},r.setContent=function(e,t){var a={header:{method:"lecture_detail"},body:{course_id:e,lecture_id:t,lecture_type:5}};x.post("/content",JSON.stringify(a)).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",a,t.data),Z(e,r.props.isPreview,r.props.courseSlug)}else r.mounted&&(r.setState({content:t.data.body.lecture.html.cl_lecture_content,lectureId:r.props.lectureId,contentLoaded:!0},function(){r.props.onPercentageUpdate({percentage:100,cue:0,lectureId:r.props.lectureId,completed:!0})}),r.refs.htmlContent.scrollTop=0)}).catch(function(e){})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.mounted=!0,this.mounted&&this.props.lectureId&&this.state.lectureId!==this.props.lectureId&&this.setContent(this.props.courseId,this.props.lectureId),console.log($(!1))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&e.lectureId&&this.state.lectureId!==e.lectureId&&this.setContent(this.props.courseId,e.lectureId)}},{key:"render",value:function(){var e=this.state.contentLoaded?{minHeight:"85vh"}:{};return n.a.createElement("div",{ref:"htmlContent",className:"preview-area custom-scroller"},n.a.createElement(Be,null),n.a.createElement(Re,null),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder document-context custom-scroller"},n.a.createElement("div",{className:"context",style:e,dangerouslySetInnerHTML:{__html:this.state.content}}),n.a.createElement("div",{className:"dummy"}))),n.a.createElement(qe,null))}}]),t}(a.Component),Ve=Object(y.b)(function(e){return{currOpen:e.currOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Qe),Je=r(26),Ye=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.intervalObj=null,r.state={currLecture:null,timer:0,cue:0,percentage:0},r.onPercentageUpdate=function(e){var t=e.target.getCurrentTime(),a=e.target.getDuration(),n=Math.ceil(t/a*100),s=r.state.timer;e.seconds%5!==0&&r.mounted&&r.setState({timer:Math.ceil(t),cue:t,percentage:n},function(){s===r.state.timer&&100!==n||r.props.onPercentageUpdate({percentage:n,cue:r.state.cue,lectureId:r.state.currLecture.id,completed:e.completed})}),e.completed&&r.props.onComplete()},r._handlePlay=function(e){r.intervalObj&&clearInterval(r.intervalObj),r.intervalObj=setInterval(function(){r.onPercentageUpdate(Object(b.a)({},e,{completed:!1}))},5e3)},r._handlePause=function(e){r.intervalObj&&clearInterval(r.intervalObj),r.onPercentageUpdate(Object(b.a)({},e,{completed:!1}))},r._handleEnd=function(e){r.intervalObj&&clearInterval(r.intervalObj),r.onPercentageUpdate(Object(b.a)({},e,{completed:!0}))},r._handleReady=function(e){e.target.seekTo(r.state.cue)},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.mounted&&this.props.currLecture){var e=this.props.currLecture.percentage,t=this.props.currLecture.cl_duration*e/100;this.setState({currLecture:Object(b.a)({},this.props.currLecture),cue:t})}X(this.props.courseId,this.props.isPreview,this.props.courseSlug).catch(console.log),console.log($(!0))}},{key:"componentDidUpdate",value:function(){this.mounted=!0,this.mounted&&"undefined"!==typeof this.props.currLecture.id&&+this.props.currLecture.id!==+this.state.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture)})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"youtube_parser",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\\?]*).*/);return!(!t||11!==t[7].length)&&t[7]}},{key:"render",value:function(){var e=this.youtube_parser(this.props.videoId),t=this.props.videoHeight;return n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture youtube_video"},n.a.createElement(pe,null),n.a.createElement("div",{className:"video-container"},n.a.createElement(Je.a,{id:"youtube",width:"100%",height:t,video:e,controls:!0,paused:this.props.descModalOpen,autoplay:this.props.autoPlay,startSeconds:this.state.cue,modestBranding:!0,showRelatedVideos:!1,onPlaying:this._handlePlay,onPause:this._handlePause,onEnd:this._handleEnd,onReady:this._handleReady})),n.a.createElement(ye,null))}}]),t}(a.Component),Ze=Object(y.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,descModalOpen:e.descModalOpen}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Ye),Xe=r(48),Ke=r.n(Xe),$e=(r(101),r(103),function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={timer:0,cue:0,percentage:0,currLecture:null},r.onPercentageUpdate=function(e){var t=r.state.timer;if(e.now%5!==0&&!e.completed){var a=e.now/e.duration*100;r.setState({timer:Math.ceil(e.now),cue:e.now,percentage:a},function(){t!==r.state.timer&&r.props.onPercentageUpdate({percentage:r.state.percentage,cue:r.state.cue,lectureId:r.state.currLecture.id,completed:e.completed})})}e.completed&&(r.props.onPercentageUpdate({percentage:e.percentage,cue:0,lectureId:r.state.currLecture.id,completed:e.completed}),r.props.onComplete())},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.mounted&&this.props.currLecture){var e=this.props.currLecture.percentage,t=this.props.currLecture.cl_duration*e/100;this.setState({currLecture:Object(b.a)({},this.props.currLecture),cue:t})}X(this.props.courseId,this.props.isPreview,this.props.courseSlug).catch(console.log),console.log($(!1))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.onPercentageUpdate=null}},{key:"componentDidUpdate",value:function(){this.props.currLecture&&"undefined"!==typeof this.props.currLecture.id&&"undefined"!==typeof this.state.currLecture.id&&+this.props.currLecture.id!==+this.state.currLecture.id&&this.props.audioId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture)})}},{key:"render",value:function(){var e=this,t=this.props.config.mp3Url.replace("{audioId}",this.props.audioId);t=t.replace("{courseId}",this.props.courseId);var r=null;return this.state.currLecture&&(r=n.a.createElement(Ke.a,{type:"audio",url:t,className:"audio-player",seekTime:600,autoplay:this.props.autoPlay,onEnd:function(){e.onPercentageUpdate({percentage:100,completed:!0})},onReady:function(){document.querySelector(".audio-player").currentTime=e.state.cue},onTimeUpdate:function(t){return e.onPercentageUpdate(Object(b.a)({},t,{completed:!1}))},controls:["mute","progress","duration","play"]})),n.a.createElement("div",{className:"lecture-content",style:{backgroundColor:"#000"}},n.a.createElement("div",{className:"mp3-header"},n.a.createElement(pe,null)),n.a.createElement("div",{className:"plyr-audio"},r),n.a.createElement(ye,null))}}]),t}(a.Component)),et=Object(y.b)(function(e){return{config:e.config,currLecture:e.currLecture,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})($e),tt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={activeTab:0,courseId:0,lectureId:0,assessmentData:null,childWindow:null,windowTimer:null,testProgress:!1,assessLoading:!0,readMore:!0},r.tabSwitchHandler=function(e){r.mounted&&r.setState({activeTab:e})},r.setAssessmentData=function(){return new Promise(function(e,t){var a={header:{service:"",method:"assessment"},body:{course_id:r.props.match.params.courseId,lecture_id:r.state.lectureId}};r.mounted&&r.setState({assessLoading:!0}),x.post("/content",JSON.stringify(a)).then(function(n){if(!n.data)return t();if(n.data.header.error){if(console.log("error occurred ",n.data.header),604===n.data.header.code)return console.log("exit => ",a,n.data),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug);t(n.data.header.message)}else console.log("Assessment load no error"),r.mounted&&(console.log("Assessment set state"),r.setState({assessmentData:Object(b.a)({},n.data.body),assessLoading:!1},function(){console.log("Assessment data saved to state"),e(n.data.body)}))}).catch(function(e){t(e)})})},r.checkChildWindow=function(){r.mounted&&r.state.childWindow.closed&&(r.setState({testProgress:!1},function(){r.setAssessmentData().then(function(e){+e.assessment.attempt_data.aa_completed&&r.props.onPercentageUpdate({percentage:100,cue:0,lectureId:r.props.lectureId,completed:!0})}).catch(function(e){return console.log(e)})}),clearInterval(r.state.windowTimer))},r.startAssessmentHandler=function(e){console.log(e);var t=new URL(e);r.props.token&&t.searchParams.append("token",r.props.token);var a=function(e,t){var r,a;return a=(a=(a="status=0,toolbar=0")+",width="+(window.screen.availWidth-10).toString())+",height="+(window.screen.availHeight-122).toString(),a+=",screenX=0,screenY=0,left=0,top=0",(r=window.open("",t,a)).location=e,r.focus(),r.moveTo(0,0),r.resizeTo(window.screen.availWidth,window.screen.availHeight),r}(t.href,"Assessment - SDPK"),n=setInterval(r.checkChildWindow,500);r.setState({testProgress:!0,childWindow:a,windowTimer:n})},r.readMore=function(){r.mounted&&r.setState({readMore:!1})},r.handleButtonClick=function(){var e=r.props.config,t=Object(b.a)({},r.state.assessmentData.assessment.a_data),a=e.assessmentUrl.replace("{testId}",t.id);return!r.state.testProgress&&r.state.assessmentData.assessment.attemptable?r.startAssessmentHandler(a):null},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.match.params.tab?parseInt(this.props.match.params.tab):0;t=isNaN(t)?0:t,t=[0,1].indexOf(t)>-1?t:0,console.log("Component mounted"),this.mounted&&+this.state.lectureId!==+this.props.lectureId&&this.setState({courseId:this.props.courseId,lectureId:this.props.lectureId,activeTab:t},function(){console.log("component mount after set state"),e.setAssessmentData().catch(function(e){return console.log(e)})}),console.log($(!1))}},{key:"componentDidUpdate",value:function(e){var t=this;this.mounted&&+e.lectureId!==+this.props.lectureId&&this.setState({lectureId:this.props.lectureId,readMore:!0},function(){console.log("component receive props after set state"),t.setAssessmentData().catch(function(e){return console.log(e)})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.mounted&&+e.lectureId!==+this.props.lectureId&&this.setState({lectureId:this.props.lectureId,readMore:!0},function(){console.log("component receive props after set state"),t.setAssessmentData().catch(function(e){return console.log(e)})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props.config,r=null,a=null,s={};if(this.state.assessmentData){var c=Object(b.a)({},this.state.assessmentData.assessment.a_data),i=null,o=!0;if("undefined"!==typeof(s=Object(b.a)({},this.state.assessmentData.assessment.attempt_data)).id){var l=new URL(t.apiUrl+"/material/assesment_report_item/".concat(s.id));this.props.token&&l.searchParams.append("token",this.props.token),i=l.href,o=!!+s.aa_valuated}var u=null;o&&+s.aa_completed?i&&(u=n.a.createElement("a",{rel:"noopener noreferrer",className:"view-report-btn",href:i},"View Report")):u=+s.aa_completed?n.a.createElement("span",{className:"view-report-btn"},"Waiting Result"):n.a.createElement("span",{className:"view-report-btn"},"Test on Progress");var d=["tabcontent","context","custom-scroller"];this.state.readMore&&d.push("content-read-toggle");var p="";try{p=JSON.parse(c.a_instructions)}catch(v){p=c.a_instructions}r=n.a.createElement(U,null,n.a.createElement("div",{id:"instruction",className:d.join(" ")},n.a.createElement("div",{className:"quiz-instruction-tags"},n.a.createElement("div",null,n.a.createElement("span",null,c.a_questions),n.a.createElement("span",null,"Questions")),n.a.createElement("div",null,n.a.createElement("span",null,c.a_duration),n.a.createElement("span",null,"Min")),n.a.createElement("div",null,n.a.createElement("span",null,c.a_mark),n.a.createElement("span",null,"Marks"))),n.a.createElement("div",{className:"locked-content-info text-center",dangerouslySetInnerHTML:{__html:p[1]}}),this.state.readMore?n.a.createElement("div",{onClick:this.readMore,className:"read-more"},"Read More"):null),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{style:{cursor:!this.state.testProgress&&this.state.assessmentData.assessment.attemptable?"pointer":"not-allowed"},onClick:this.handleButtonClick,className:"btn-violet"},this.state.testProgress?"On Progress":0===+s.aa_completed?"Resume Quiz":"Start Quiz"))),a=n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},n.a.createElement("span",{className:"instruction-info"},n.a.createElement("span",{className:"submision-date"},"undefined"!==typeof s.id?s.aa_attempted_date:" - ")),n.a.createElement("div",{className:"result-wrapper"},n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"marks"},"undefined"!==typeof s.id&&s.aa_mark_scored&&o?s.aa_mark_scored:" - "),n.a.createElement("span",{className:"result-info-title"},"Marks Scored")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"quiz-timetaken"},"undefined"!==typeof s.id&&"00:00"!==s.aa_duration&&o?s.aa_duration:" - "),n.a.createElement("span",{className:"result-info-title"},"Time Taken")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"grade"},"undefined"!==typeof s.id&&o?s.aa_grade:" - "),n.a.createElement("span",{className:"result-info-title"},"Grade"))),n.a.createElement("div",{className:"text-center btn-container"},u,n.a.createElement("button",{className:"btn-violet",style:{cursor:!this.state.testProgress&&this.state.assessmentData.assessment.attemptable?"pointer":"not-allowed"},onClick:this.handleButtonClick,type:""},+s.aa_completed?"Retry Quiz":"Resume Quiz")))}var m=0===this.state.activeTab?r:a,h=[];return h[0]=["tab","tablinks"],h[1]=["tab","tablinks"],h[this.state.activeTab].push("active"),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Be,null),n.a.createElement(Re,null),n.a.createElement("div",{className:"lecture-holder quiz-content text-center"},n.a.createElement("div",null,n.a.createElement("h2",null,"Quiz")),n.a.createElement("div",{className:"content-toggle-tab",style:{display:"inline-block"}},n.a.createElement("div",{className:h[0].join(" "),onClick:function(){return e.tabSwitchHandler(0)}},"Instructions"),n.a.createElement("div",{style:{cursor:"undefined"!==typeof s.id?"pointer":"not-allowed"},disabled:"undefined"!==typeof s.id,className:h[1].join(" "),onClick:function(){return"undefined"!==typeof s.id?e.tabSwitchHandler(1):null}},"Result")),n.a.createElement("div",{className:"context-holder"},this.state.assessLoading?null:m,n.a.createElement("div",{className:"dummy"}))),n.a.createElement(qe,null))}}]),t}(a.Component),rt=Object(y.b)(function(e){return{config:e.config,courseId:e.subscription.id?e.subscription.cs_course_id:0,lectureId:e.currLecId,currOpen:e.currOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,token:e.token}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(tt)),at=(r(105),r(49)),nt=r.n(at),st=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={courseId:0,currLecture:null},r.playScorm=function(e){window.open(e,"Scorm - SDPK","toolbar=0,status=0,width="+window.screen.availWidth+",height="+window.screen.availWidth),r.props.onPercentageUpdate({percentage:100,cue:0,lectureId:r.props.lectureId,completed:!0})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&this.setState({currLecture:Object(b.a)({},this.props.currLecture)}),X(this.props.courseId,this.props.isPreview,this.props.courseSlug).catch(console.log),console.log($(!1))}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&e.currLecture&&+e.currLecture.id!==+this.props.currLecture.id&&this.setState({currLecture:Object(b.a)({},e.currLecture)})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props.config,r=Object(b.a)({},this.state.currLecture),a=null;if(r){var s=t.scormUrl.replace("{scormPath}",r.cl_filename);s=s.replace("{courseId}",this.state.courseId),a=n.a.createElement("div",{className:"context"},n.a.createElement("p",{className:"scorm-info"},"This is a packaged content. Press play button to view the lecture content."),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{onClick:function(){return e.playScorm(s)},className:"btn-violet"},"Play")))}return n.a.createElement(U,null,n.a.createElement("div",{className:"preview-area"},n.a.createElement("span",{className:"scorm-header"},n.a.createElement(Re,null)),n.a.createElement("div",{className:"lecture-holder scorm-holder",id:"lecture_holder"},n.a.createElement("div",{className:"context-holder"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"lock-img",src:nt.a,alt:""})),n.a.createElement("h5",{className:"locked-title scorm-title"},"Scorm Package"),a,n.a.createElement("div",{className:"dummy"}))),n.a.createElement(qe,null)))}}]),t}(a.Component),ct=Object(y.b)(function(e){return{config:e.config,courseId:e.subscription.id?e.subscription.cs_course_id:0,currOpen:e.currOpen,currLecture:e.currLecture?Object(b.a)({},e.currLecture):null,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(st),it=r(54),ot=(r(107),r(109),function(e){return n.a.createElement("span",{onClick:function(){return e.downloadHandler(e.downloadData)},className:"attachment-tag"},n.a.createElement("svg",{style:{verticalAlign:"middle"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"25px",n:"true",height:"20px",viewBox:"0 0 40 32",enableBackground:"new 0 0 40 32",xmlSpace:"preserve"}," ",n.a.createElement("g",null," ",n.a.createElement("g",null," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M16.313,23.501c-0.845,0-1.683-0.32-2.323-0.96c-1.28-1.28-1.28-3.373,0-4.652l1.242,1.24c-0.288,0.289-0.448,0.68-0.448,1.089s0.16,0.794,0.448,1.088c0.583,0.583,1.594,0.583,2.176,0l1.241,1.241C18.003,23.181,17.158,23.501,16.313,23.501z"})," ")," ",n.a.createElement("g",null," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M14.611,18.509"})," ")," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M15.398,27.539c-1.651,0-3.296-0.627-4.55-1.881c-1.216-1.217-1.888-2.83-1.888-4.551c0-1.639,0.608-3.182,1.715-4.378l-0.013-0.013l10.822-10.81l0,0c0.916-0.89,2.119-1.382,3.398-1.382c1.307,0,2.528,0.505,3.45,1.427c0.921,0.921,1.427,2.144,1.427,3.449c0,1.223-0.447,2.375-1.261,3.271l0.007,0.006l-0.141,0.141c-0.014,0.013-0.02,0.019-0.032,0.032l0,0L18.33,22.854l-1.242-1.241l10.067-10.068c0.55-0.582,0.851-1.344,0.851-2.15c0-0.832-0.326-1.619-0.914-2.208c-1.178-1.177-3.238-1.177-4.423,0L12.083,17.785l0.007,0.007c-0.883,0.884-1.37,2.062-1.37,3.315s0.486,2.426,1.37,3.314c1.824,1.824,4.793,1.824,6.617,0.007l11.092-11.091l1.241,1.242L19.718,25.895l-0.006-0.006C18.49,26.988,16.947,27.539,15.398,27.539z"})," ")," ")," ")," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M14.611,18.509"})," ")," ",n.a.createElement("g",null," ",n.a.createElement("rect",{x:"12.665",y:"12.942",transform:"matrix(-0.7071 0.7071 -0.7071 -0.7071 42.7109 9.9459)",fill:"#713EA7",width:"13.26",height:"1.754"})," ")," ")),e.fileName)}),lt=r(50),ut=r.n(lt),dt=["doc","docx","pdf","xls","xlsx","ppt","pptx"],pt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,r.state={activeTab:0,courseId:0,course:null,subscription:null,currLecture:null,lectureId:0,assignmentData:null,showSuccess:null,submisionData:{files:[],description:null},submitting:!1,assignMentLoading:!0,readMore:!0,errMsgs:[],uploadPercentage:0},r.showUploadMessages=function(){return r.state.errMsgs.map(function(e){return n.a.createElement("div",null,n.a.createElement("span",null,e))})},r.loadAssignmentData=function(){var e={header:{service:"",method:"assignment"},body:{course_id:r.props.match.params.courseId,lecture_id:r.props.lectureId}};r.mounted&&r.setState({assignMentLoading:!0}),x.post("/content",JSON.stringify(e)).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug);console.log(t.data.header.message)}else r.mounted&&r.setState({assignmentData:Object(b.a)({},t.data.body),assignMentLoading:!1,submisionData:{files:[],description:null},submitting:!1})}).catch(function(e){})},r.downloadHandler=function(e){var t=r.props.config.materialUrl.replace("{courseId}",r.state.courseId);switch(t=t.replace("{purpose}",e.source),e.source){case"assignment":t=t.replace("{file}",e.file_name);break;case"assignment_submission":t=t.replace("{file}",e.encrypted)}window.open(t,"_blank")},r.tabSwitchHandler=function(e){r.mounted&&r.setState({activeTab:e})},r.submitHandler=function(){var e=Object(H.a)(r.state.submisionData.files);e=e.map(function(e){return delete e.url,e});var t={header:{service:"",method:"assignment_submission"},body:{course_id:r.state.courseId,lecture_id:r.state.lectureId,subscribe_id:r.state.subscription.id,assignment_name:r.state.currLecture.cl_lecture_name,course_name:r.state.course.cb_title,files:e,comments:r.state.submisionData.description}};r.refs.fileTarget.innerHTML="",r.setState({submitting:!0}),x.post("/content",JSON.stringify(t)).then(function(e){e.data.header.error||r.mounted&&(r.loadAssignmentData(),r.props.onPercentageUpdate({percentage:100,cue:0,lectureId:r.state.lectureId,completed:!0}),r.setState({showSuccess:!0}),setTimeout(function(){r.mounted&&r.setState({showSuccess:!1})},2e3)),r.setState({submitting:!1})}).catch(function(e){})},r.deleteFile=function(e){var t=e.target.dataset.file,a=t.split("?")[0],n={header:{service:"",method:"remove_assignment_file"},body:{file:t}};x.post("/content",JSON.stringify(n)).then(function(e){var t=Object(H.a)(r.state.submisionData.files);return t.splice(t.findIndex(function(e){return e.encrypted.includes(a)}),1),r.setState({submisionData:Object(b.a)({},r.state.submisionData,{files:Object(H.a)(t)})}),!0}).catch(function(e){return console.log(e),!1})},r._handleDescriptionFocus=function(e){e.target.scrollIntoView()},r._handleDescriptionChange=function(e){var t=e.target.value,a=r.state.submisionData;r.setState({submisionData:Object(b.a)({},a,{description:t})})},r._handleAssignmentUpload=function(){var e=Object(F.a)(G.a.mark(function e(t){var a,n,s,c,i,o,l,u,d,p,m,h,v,f,g;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=(a=r.props.config.redactorUploadUrl.replace("{courseId}",r.state.courseId)).replace("{purpose}","assignment_submission"),n=document.querySelector("input[name='file']").files,s=[],r.setState({errMsgs:s}),c=new FormData,i=0;i<n.length;i++)c.append("file[]",n[i]);for(o=0;o<n.length;o++)l=n[o],u=l.name.split("."),d=u.pop(),-1===dt.indexOf(d)||0===u.length?s.push("Invalid file type for ".concat(l.name,".")):l.size>1e7&&s.push("File size exceeded 10 MB for ".concat(l.name,"."));if(!(s.length>0)){e.next=12;break}return r.setState({errMsgs:s}),e.abrupt("return",!1);case 12:return p={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r.setState({uploadPercentage:t})}},e.next=15,x.post(a,c,p);case 15:if(200===(m=e.sent).status){for(r.setState({uploadPercentage:0}),document.querySelector("input[name='file']").value="",h=Object(b.a)({},r.state.submisionData),v=Object.values(m.data),f=0;f<v.length;f++)g=v[f],h.files.push({file:g.name,encrypted:g.file_name,url:g.url});r.setState({submisionData:Object(b.a)({},h)})}e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}},e,this,[[0,19]])}));return function(t){return e.apply(this,arguments)}}(),r.readMore=function(){r.mounted&&r.setState({readMore:!1})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.match.params.tab?parseInt(this.props.match.params.tab):0;t=isNaN(t)?0:t,t=[0,1,2].indexOf(t)>-1?t:0,this.mounted&&this.setState({courseId:this.props.courseId,lectureId:this.props.lectureId,course:this.props.course,currLecture:this.props.currLecture,subscription:this.props.subscription,activeTab:t},function(){e.props.lectureId&&e.loadAssignmentData()}),console.log($(!1))}},{key:"componentDidUpdate",value:function(e,t){var r=this;this.mounted&&this.props.currLecture&&(+e.currLecture.id!==+this.props.currLecture.id||e.lectureId!==this.props.lectureId)&&this.setState({lectureId:this.props.lectureId,currLecture:this.props.currLecture,activeTab:0,assignmentData:null,readMore:!0},function(){r.loadAssignmentData()})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"listUploadedFiles",value:function(){var e=this;return this.state.submisionData.files.map(function(t){return n.a.createElement("span",{class:"attachment-tag"},n.a.createElement("a",{href:t.url,download:t.file},t.file),n.a.createElement("span",{onClick:e.deleteFile,"data-file":t.encrypted,class:"file-remover"},"x"))})}},{key:"render",value:function(){var e=this,t=[];t[0]=["tab","tablinks"],t[1]=["tab","tablinks"],t[2]=["tab","tablinks"],t[this.state.activeTab].push("active");var r=null,a=this.state.assignmentData,s=this.state.submisionData.files.length;if(a&&this.state.currLecture){a.a_data.dt_uploded_files=a.a_data.dt_uploded_files?a.a_data.dt_uploded_files:"";for(var c=""!==a.a_data.dt_uploded_files?JSON.parse(a.a_data.dt_uploded_files):[],i=[],o=Object.entries(c),l=0;l<o.length;l++){var u=o[l],d=Object(it.a)(u,2),p=d[0],m=d[1];i.push(n.a.createElement(ot,{idNum:p,downloadHandler:this.downloadHandler,downloadData:Object(b.a)({},m,{source:"assignment"}),key:m.file_name,fileName:m.name}))}switch(this.state.activeTab){case 1:r=n.a.createElement(U,null,n.a.createElement("div",{id:"submision",className:"tabcontent context custom-scroller"},n.a.createElement("div",{className:"text-center"},n.a.createElement("ul",{className:"instruction-list"},n.a.createElement("li",null,"Upload atleast one file from the upload icon."),n.a.createElement("li",null,"Add description if needed."),n.a.createElement("li",null,"Once submitted, cannot be edited."),n.a.createElement("li",{className:"file-types"},"Supported files : .doc,.docx,.pdf,.xls,.xlsx,.ppt and .pptx"))),!a.submitted&&n.a.createElement(n.a.Fragment,null,n.a.createElement("textarea",{value:this.state.submisionData.description?this.state.submisionData.description:"",onFocus:this._handleDescriptionFocus,onChange:this._handleDescriptionChange,id:"submision_editor",className:"form-control assgn-description"}),n.a.createElement("div",{className:"form-group attach-upload"},n.a.createElement("progress",{class:"progress-bar",value:this.state.uploadPercentage,max:"100"}),n.a.createElement("label",{for:"file-input"},n.a.createElement("img",{src:ut.a,alt:"Attachment",width:"64px"})),n.a.createElement("input",{type:"file",id:"file-input",onChange:this._handleAssignmentUpload,name:"file",multiple:"multiple"})),n.a.createElement("div",{ref:"fileTarget",id:"file-target",className:"attachment-holder"},this.listUploadedFiles()),n.a.createElement("div",{className:"error-container"},this.showUploadMessages()),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{className:"btn-violet assgn-submit",disabled:!s,onClick:s?this.submitHandler:null,style:{cursor:s?"pointer":"not-allowed"},type:""},this.state.submitting?"Submitting...":"Submit")))));break;case 2:var h="";if(a.submitted){var v=JSON.parse(a.submission.dtua_comments);if(v.length>1){var f=Object(H.a)(v);f=(f=f.filter(function(e,t,r){return 0!==t})).map(function(e,t){return n.a.createElement("div",{key:t,className:"faculty-feedback"},n.a.createElement("h4",null,"Comment ",t+1),n.a.createElement("p",null,e.comment))}),h=n.a.createElement("div",{className:"feedback-container"},n.a.createElement("div",{className:"text-center"},n.a.createElement("span",{className:"faculty-title"},"Faculty Feedback"),f))}}r=n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},a.submitted&&+a.submission.dtua_evaluated?"":n.a.createElement("span",{className:"result-notice"},"Awaiting for result"),n.a.createElement("div",{className:"result-wrapper"},n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"result-info-title"},"Submitted On"),n.a.createElement("span",{className:"submition-date"},a.submitted?a.submission.created_date:" - ")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"marks"},a.submitted&&+a.submission.dtua_evaluated?a.submission.mark:" - "),n.a.createElement("span",{className:"result-info-title"},"Marks Scored")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"grade"},a.submitted&&+a.submission.dtua_evaluated?a.submission.dtua_grade:" - "),n.a.createElement("span",{className:"result-info-title"},"Grade"))),h);break;default:var g=["tabcontent","context","custom-scroller"];this.state.readMore&&g.push("content-read-toggle");var y="Continue";a.submitted?y="Submitted":a.expired&&(y="Expired"),r=n.a.createElement(U,null,n.a.createElement("div",{id:"instruction",className:g.join(" ")},n.a.createElement("span",{className:"instruction-info"},a.expired&&!a.submitted?"Expired on - ":"Submit Before - ",n.a.createElement("span",{className:"submision-date"},a.a_data.dt_last_date)),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.currLecture.cl_lecture_content}}),n.a.createElement("div",{ref:"fileTarget",id:"file-target",className:"hidden attachment-holder"}),n.a.createElement("div",{className:"attachment-holder"},i),this.state.readMore?n.a.createElement("div",{onClick:this.readMore,className:"read-more"},"Read More"):null),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{onClick:function(){return!a.expired||a.submitted?e.tabSwitchHandler(1):null},style:{cursor:!a.expired||a.submitted?"pointer":"not-allowed"},className:"btn-violet",type:""},y)),n.a.createElement("div",{className:"dummy"}))}if(1===this.state.activeTab&&a.submitted){var E=JSON.parse(a.submission.dtua_comments),w=JSON.parse(E[0].file);w=w.map(function(t,r){return n.a.createElement(ot,{downloadHandler:e.downloadHandler,downloadData:Object(b.a)({},t,{source:"assignment_submission"}),key:t.encrypted,fileName:t.file})}),r=n.a.createElement("div",{id:"submision",className:"tabcontent context custom-scroller"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:E[0].comment}}),n.a.createElement("div",{className:"attachment-holder"},w))}1===this.state.activeTab&&a.expired&&!a.submitted&&(r=n.a.createElement("div",{id:"submision",className:"tabcontent context custom-scroller"},n.a.createElement("span",{className:"result-notice"},"Sorry Submission is not allowed as it is expired.")))}this.state.showSuccess&&(r=n.a.createElement("span",{className:"result-success"},"Submitted successfully."));var O={height:1!==this.state.activeTab||a.expired||a.submitted?"inherit":"".concat(window.outerHeight+60,"px")};return n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Be,null),n.a.createElement(Re,null),n.a.createElement("div",{className:"lecture-holder text-center"},n.a.createElement("div",null,n.a.createElement("h2",null,"Assignment")),n.a.createElement("div",{className:"content-toggle-tab",style:{display:"inline-block"}},n.a.createElement("div",{className:t[0].join(" "),onClick:function(){return e.tabSwitchHandler(0)},id:"defaultOpen"},"Instructions"),n.a.createElement("div",{className:t[1].join(" "),onClick:function(){return!a||!a.submitted&&a.expired?null:e.tabSwitchHandler(1)},style:{cursor:!a||!a.submitted&&a.expired?"not-allowed":"pointer"}},"Submission"),n.a.createElement("div",{className:t[2].join(" "),style:{cursor:a&&!a.submitted?"not-allowed":"pointer"},onClick:function(){return a&&!a.submitted?null:e.tabSwitchHandler(2)}},"Result")),n.a.createElement("div",{className:"context-holder",style:O},this.state.assignMentLoading?null:r)),n.a.createElement(qe,null))}}]),t}(a.Component),mt=Object(y.b)(function(e){return{config:e.config,courseId:e.subscription.id?e.subscription.cs_course_id:0,lectureId:e.currLecId,currOpen:e.currOpen,subscription:e.subscription,course:e.course,currLecture:e.currLecture,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(pt)),ht=r(51),vt=r.n(ht),ft=function(e){return n.a.createElement("div",{className:"lecture-holder certificate-holder"},n.a.createElement("div",{className:"context-holder certificate-context"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"lock-img",src:vt.a,alt:""})),n.a.createElement("h5",{className:"locked-title"},"Generate Your Certificate"),n.a.createElement("div",{className:"context"},n.a.createElement("p",{className:"scorm-info text-justify"},"Once you have completed this certificate course, you have the option to acquire official Certification, which is a great way to share your achievemnet with the world"),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{className:"btn-violet",onClick:e.generating?null:e.generate,type:""},e.generating?"Generating...":"Generate Now")))))},gt=function(e){return n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{style:{width:"60%",marginBottom:"0px"},className:"img-responsive1",src:e.certUrl,alt:""})),n.a.createElement("div",{className:"text-center btn-container",style:{marginBottom:"40px",padding:"10px 0 30px 0"}},n.a.createElement("button",{className:"btn-violet",onClick:e.downloadCert,type:""},"Download"))))},bt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={certUrl:null,generating:!1,currLecture:null,loaded:!1,modalClasses:"modal-container"},r.getCert=function(){var e={header:{service:"",method:"download_certificate"},body:{course_id:r.props.match.params.courseId,lecture_id:r.props.match.params.lectureId}};x.post("/content",JSON.stringify(e)).then(function(e){r.mounted&&r.setState({loaded:!0}),e.data.header.error||r.mounted&&""!==e.data.body.url&&r.setState({certUrl:e.data.body.url})}).catch(function(e){})},r.generateCert=function(){var e={header:{service:"",method:"create_document"},body:{course_id:r.props.match.params.courseId,lecture_id:r.props.match.params.lectureId,cl_filename:r.state.currLecture.cl_filename}};r.setState({generating:!0,modalClasses:"modal-container"}),x.post("/content",JSON.stringify(e)).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug);r.setState({generating:!1})}else r.mounted&&r.setState({generating:!1},function(){r.getCert(),r.props.onPercentageUpdate({percentage:100,cue:0,lectureId:+r.state.currLecture.id,completed:!0})})}).catch(function(e){})},r.downloadCert=function(){if(r.state.certUrl){var e=document.createElement("a");e.href=r.state.certUrl,e.download="Certificate",e.click()}},r.cancelHandler=function(){r.setState({modalClasses:"modal-container"})},r.modalOpenHandler=function(){r.setState({modalClasses:"modal-container visible"})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mounted&&this.setState({currLecture:this.props.currLecture},function(){e.props.match.params.lectureId&&e.getCert()}),console.log($(!1))}},{key:"componentDidUpdate",value:function(){var e=this;this.mounted&&JSON.stringify(this.state.currLecture)!==JSON.stringify(this.props.currLecture)&&this.setState({currLecture:this.props.currLecture,certUrl:null,generating:!1,loaded:!1},function(){e.props.match.params.lectureId&&e.getCert()})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.modalClasses,t="";this.props.currOpen&&(e+=" curropen"),this.props.dissOpen&&(e+=" forumopen");try{t=JSON.parse(this.props.config.user_details).us_name}catch(r){}return n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Re,null),this.state.loaded?this.state.certUrl?n.a.createElement(gt,{certUrl:this.state.certUrl,downloadCert:this.downloadCert}):n.a.createElement(ft,{generating:this.state.generating,generate:this.modalOpenHandler}):null,n.a.createElement("div",{className:this.state.modalClasses.indexOf("visible")>-1?"lecture-holder certificate-holder":""},n.a.createElement("div",{className:"context-holder certificate-context"},n.a.createElement("div",{className:e},n.a.createElement("div",{className:"modal-wrapper"},n.a.createElement("div",{className:"popup-content"},n.a.createElement("h3",null,"Confirm Your Name"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",id:"user_name",disabled:!0,value:t,placeholder:"Name"}),n.a.createElement("p",null,n.a.createElement("small",null,"To change your name please go to your profile page."))),n.a.createElement("div",{className:"confirm-btn-wrapper"},n.a.createElement("button",{className:"pop-btn-cancel",onClick:this.cancelHandler,type:"button"},"Cancel"),n.a.createElement("button",{className:"pop-btn-ok",onClick:this.generateCert,type:"button"},this.state.generating?"Generating...":"Generate Now")))))))),n.a.createElement(qe,null))}}]),t}(a.Component),yt=Object(y.b)(function(e){return{currLecture:e.currLecture,config:e.config,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(bt)),Et="Join Live",wt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.timerObj=null,r.state={lectureId:!1,liveData:null,loaded:!1,player:!1,buttonText:Et},r.setLiveData=function(){return new Promise(function(e,t){var a={header:{method:"lecture_detail"},body:{course_id:r.props.courseId,lecture_id:r.state.lectureId,lecture_type:7}};r.mounted&&r.setState({assessLoading:!0}),x.post("/content",JSON.stringify(a)).then(function(n){if(n.data.header.error){if(604===n.data.header.code)return console.log("exit => ",a,n.data),Z(r.props.courseId,r.props.isPreview,r.props.courseSlug);t(n.data.header.message)}else r.mounted&&r.setState({liveData:Object(b.a)({},n.data.body.lecture),loaded:!0,player:!1},function(){e(r.state.liveData),r.checkStatus(),r.timerObj=setInterval(function(){r.checkStatus()},6e4)})}).catch(function(e){t(e)})})},r.showLive=function(){r.mounted&&r.state.liveData&&r.state.liveData.attentable&&r.setState({player:!0})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mounted&&+this.state.lectureId!==+this.props.lectureId&&this.setState({lectureId:this.props.lectureId},function(){e.setLiveData().catch(function(e){return console.log(e)})}),console.log($(!0))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.mounted&&e.lectureId&&+this.props.lectureId!==+e.lectureId&&this.setState({lectureId:e.lectureId,loaded:!1,liveData:null},function(){t.setLiveData().catch(function(e){return console.log(e)})})}},{key:"checkStatus",value:function(){var e=this.state.liveData;if(e&&this.mounted){var t=new Date("".concat(e.ll_date,"T").concat(e.ll_time)).getTime(),r=(Date.now()-t)/6e4;if(r>parseFloat(e.ll_duration))return e.attentable=!1,void this.setState({liveData:e,buttonText:"Expired"});if(r<0)return e.attentable=!1,void this.setState({liveData:e,buttonText:"Session not yet started"});e.attentable=!0,this.setState({liveData:e,buttonText:Et})}}},{key:"youtube_parser",value:function(e){var t=e.split("v=")[1],r=t.indexOf("&");return-1!==r&&(t=t.substring(0,r)),t}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.timerObj)}},{key:"render",value:function(){var e=n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Re,null),n.a.createElement("div",{className:"context-holder",style:{marginTop:"180px"}},n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},n.a.createElement("span",{className:"instruction-info date-info-wrapper"},n.a.createElement("span",{className:"submision-date"},n.a.createElement("span",{className:"live-date-title"},"Date :")," ",this.state.loaded?this.state.liveData.date_formatted:null)),n.a.createElement("div",{className:"result-wrapper duration-info-col"},n.a.createElement("div",{className:"result-info duration-wrapper"},n.a.createElement("span",{className:"marks live-duration",style:{fontSize:"16px"}},n.a.createElement("span",{className:"live-duration-title"},"Duration : "),this.state.loaded?this.state.liveData.ll_duration+"-Min":null))),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{className:"btn-violet",onClick:this.state.liveData&&this.state.liveData.attentable?this.showLive:null,style:{cursor:this.state.liveData&&this.state.liveData.attentable?"pointer":"not-allowed"},type:""},this.state.buttonText)))),n.a.createElement(qe,null));if(this.state.player&&this.state.liveData){var t=this.props.videoHeight,r=this.youtube_parser(this.state.liveData.stream);e=n.a.createElement("div",{style:{backgroundColor:"#444"},className:"video-lecture"},n.a.createElement(pe,null),n.a.createElement("div",{className:"video-container"},n.a.createElement(Je.a,{id:"youtube",width:"100%",height:t,video:r,controls:!0,autoplay:!0,modestBranding:!0,showRelatedVideos:!1})),n.a.createElement(ye,null))}return e}}]),t}(a.Component),Ot=Object(y.b)(function(e){return{courseId:e.subscription.id?e.subscription.cs_course_id:0,currLecture:e.currLecture,currOpen:e.currOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},null)(Object(v.a)(wt)),Lt=(r(111),function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={data:null,options:[],selected:null},r.changeOption=function(e){r.setState({selected:e},function(){var e=JSON.parse(r.state.data.sq_options),t={id:r.state.data.id,question:r.state.data.sq_question,type:+r.state.data.sq_type,answer:e[r.state.selected]};r.props.recieveResponse(t)})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data,options:JSON.parse(this.props.data.sq_options)})}},{key:"render",value:function(){var e=this,t=this.state.options.length?this.state.options:[];t=t.map(function(t,r){return n.a.createElement("div",{key:r,className:"survey-option-row"},n.a.createElement("div",{className:"input-holder form-group clearfix"},n.a.createElement("input",{type:"radio",name:e.props.no,onChange:function(t){return e.changeOption(r)},value:r,checked:r===e.state.selected,className:"single_choice"}),n.a.createElement("label",{onClick:function(){return e.changeOption(r)},className:"single_choice_label"},t)))});var r=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&r.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:r.join(" ")},this.state.data?this.state.data.sq_question:null)),this.props.validation?n.a.createElement("p",null,this.props.validation):null),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",null,t)))}}]),t}(n.a.Component)),Nt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={data:null,values:[]},r.toggleCheckBox=function(e){var t=Object(H.a)(r.state.values);if(t.includes(e)){var a=t.indexOf(e);a>-1&&t.splice(a,1)}else t.push(e);r.setState({values:Object(H.a)(t)},function(){var e=JSON.parse(r.state.data.sq_options),t=r.state.values.map(function(t,r){return e[t]}),a={id:r.state.data.id,question:r.state.data.sq_question,type:+r.state.data.sq_type,answer:t};r.props.recieveResponse(a)})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.state.data?JSON.parse(this.state.data.sq_options):[];t=t.map(function(t,r){return n.a.createElement("div",{key:r,className:"survey-option-row"},n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("input",{type:"checkbox",name:t,onChange:function(){return e.toggleCheckBox(r)},checked:e.state.values.includes(r),className:"multiple-choice-option"}),n.a.createElement("label",{onClick:function(){return e.toggleCheckBox(r)},className:"multiple-choice-label"},t)))});var r=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&r.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:r.join(" ")},this.state.data?this.state.data.sq_question:null,n.a.createElement("span",{className:"red-text"})))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",{id:"option-holder"},t)))}}]),t}(n.a.Component),_t=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={data:null,value:null},r.changeDropdown=function(e){r.setState({value:e.target.value},function(){var e=JSON.parse(r.state.data.sq_options),t={id:r.state.data.id,question:r.state.data.sq_question,type:+r.state.data.sq_type,answer:e[r.state.value]};r.props.recieveResponse(t)})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.state.data?JSON.parse(this.state.data.sq_options):[];t=t.map(function(t,r){return n.a.createElement("option",{key:r,defaultValue:e.state.value===r,value:r},t)});var r=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&r.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:r.join(" ")},this.state.data?this.state.data.sq_question:null,n.a.createElement("span",{className:"red-text"})))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",{id:"option-holder"},n.a.createElement("div",{className:"survey-option-row"},n.a.createElement("select",{onChange:this.changeDropdown,className:"option-selectbox"},n.a.createElement("option",{value:"select"},"Select"),t)))))}}]),t}(n.a.Component),kt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={data:null,value:null},r.changeContent=function(e){r.setState({value:e},function(){var e={id:r.state.data.id,question:r.state.data.sq_question,type:+r.state.data.sq_type,answer:r.state.value};r.props.recieveResponse(e)})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&t.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:t.join(" ")},this.state.data?this.state.data.sq_question:null,n.a.createElement("span",{className:"red-text"})))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",null,n.a.createElement("div",{className:"survey-option-row"},n.a.createElement("textarea",{onKeyUp:function(t){return e.changeContent(t.target.value)},className:"survey_description form-control",rows:4})))))}}]),t}(n.a.Component),St=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={data:null,selected:null},r.changeOption=function(e){r.setState({selected:e},function(){var t={id:r.state.data.id,question:r.state.data.sq_question,type:+r.state.data.sq_type,answer:e};r.props.recieveResponse(t)})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data},function(){})}},{key:"render",value:function(){var e=this,t=["survey-ques"];this.state.data&&1===+this.state.data.sq_required&&t.push("mandatory");var r=this.state.data?+this.state.data.sq_low_limit:0,a=this.state.data?+this.state.data.sq_high_limit:0;0===r&&a++;var s=new Array(a).fill(null),c=new Array(a).fill(null);return c=c.map(function(e,t){return n.a.createElement("th",{key:t},1===r?t+1:t)}),s=s.map(function(t,a){return n.a.createElement("td",{key:a},n.a.createElement("input",{type:"radio",name:"".concat(e.props.no,"_").concat(1===r?a+1:a),onChange:function(){return e.changeOption(1===r?a+1:a)},checked:e.state.selected===(1===r?a+1:a),className:"linear-choice-option"}),n.a.createElement("label",{onClick:function(){return e.changeOption(1===r?a+1:a)},className:"linear-choice-label"}))}),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:t.join(" ")},this.state.data?this.state.data.sq_question:null))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",{id:"option-holder"},n.a.createElement("div",{className:"survey-option-row"},n.a.createElement("table",{className:"linear-choice-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,c)),n.a.createElement("tbody",null,n.a.createElement("tr",null,s)))))))}}]),t}(n.a.Component),jt=r(30),It=r.n(jt),xt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={activeTab:0,courseDetails:null,surveyData:null,surveyQuestions:null,response:{},submitable:!1,submiting:!1,showSuccess:null,loading:!0},r.setSurveyDetails=function(){var e={header:{service:"",method:"lecture_detail"},body:{course_id:r.props.match.params.courseId,lecture_id:r.props.lectureId,lecture_type:13}};x.post("/content",JSON.stringify(e)).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug)}else r.mounted&&r.setState({surveyData:Object(b.a)({},t.data.body.lecture.survey),surveyQuestions:Object(b.a)({},t.data.body.lecture.questions),courseDetails:r.props.courseDetails,loading:!1},function(){})}).catch(function(e){})},r.recieveResponse=function(e){var t=Object(b.a)({},r.state.response);switch(t[e.id]=e,e.type){case 2:e.answer.length||delete t[e.id];break;case 3:"undefined"===typeof e.answer&&delete t[e.id];break;case 4:""===e.answer&&delete t[e.id]}r.setState({response:t})},r.submitHandler=function(){var e=Object(b.a)({},r.state.surveyQuestions),t=!0,a=[];for(var n in e){e[n].validation=null;var s="undefined"!==typeof r.state.response[e[n].id]?Object(b.a)({},r.state.response[e[n].id]):null;if(s){var c={};switch(c.question_id=s.id,c.question=s.question,s.type){case 1:c.opinion=[{answer:s.answer}];break;case 2:var i=s.answer.map(function(e){return{answer:e}});c.opinion=i;break;case 3:case 4:case 5:c.opinion=[{answer:s.answer}]}a.push(c)}if(+e[n].sq_required)switch(+e[n].sq_type){case 1:s&&""!==s.answer||(t=!1,e[n].validation="This is a mandatory field.");break;case 2:s&&s.answer.length||(t=!1,e[n].validation="This is a mandatory field.");break;case 3:s&&"undefined"!==typeof s.answer||(t=!1,e[n].validation="This is a mandatory field.");break;case 4:case 5:s&&""!==s.answer||(t=!1,e[n].validation="This is a mandatory field.")}}t&&!r.state.submiting?r.setState({submitable:t,submiting:!0},function(){var e={header:{method:"save_user_survey"},body:{course_id:r.props.match.params.courseId,lecture_id:r.props.lectureId,lecture_type:13,survey_id:r.state.surveyData.survey_id,course_name:r.state.courseDetails.cb_title,survey_name:r.state.surveyData.s_name,tutor_id:r.state.surveyData.s_tutor_id,details:a}};x.post("/content",JSON.stringify(e)).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Z(r.props.match.params.courseId,r.props.isPreview,r.props.courseSlug)}else r.mounted&&r.setState({submiting:!1,showSuccess:!0},function(){setTimeout(function(){r.props.onPercentageUpdate({percentage:100,cue:0,lectureId:r.props.lectureId,completed:!0});var e=0;"undefined"!==typeof r.props.currLecture.prevLecture.id&&(e=r.props.currLecture.prevLecture.id),"undefined"!==typeof r.props.currLecture.nexLecture.id&&(e=r.props.currLecture.nexLecture.id),r.props.history.replace("/".concat(r.props.match.params.courseId,"/").concat(e))},2e3)})}).catch(function(e){})}):r.setState({surveyQuestions:Object(b.a)({},e)})},r.lectureSwitch=function(e){var t="/".concat(r.props.match.params.courseId,"/").concat(e.lectureId);r.props.history.push({pathname:t,state:{action:e.direction}})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setSurveyDetails(),console.log($(!1))}},{key:"componentDidUpdate",value:function(e,t){var r=this;this.mounted&&+e.lectureId!==+this.props.lectureId&&this.setState({surveyData:null,surveyQuestions:null,response:{},submitable:!1,submiting:!1,loading:!0},function(){r.setSurveyDetails()})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=null,r="context-holder document-context survey-container",a=this.state.surveyQuestions?this.state.surveyQuestions:{};this.props.currLecture&&this.props.currLecture.nexLecture&&"undefined"!==typeof this.props.currLecture.nexLecture.id&&(t=this.props.currLecture.nexLecture);var s=[];for(var c in a){var i=null;switch(+a[c].sq_type){case 1:i=n.a.createElement(Lt,{key:c,no:+c+1,data:a[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof a[c].validation?a[c].validation:null});break;case 2:i=n.a.createElement(Nt,{key:c,no:+c+1,data:a[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof a[c].validation?a[c].validation:null});break;case 3:i=n.a.createElement(_t,{key:c,no:+c+1,data:a[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof a[c].validation?a[c].validation:null});break;case 4:i=n.a.createElement(kt,{key:c,no:+c+1,data:a[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof a[c].validation?a[c].validation:null});break;case 5:i=n.a.createElement(St,{key:c,no:+c+1,data:a[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof a[c].validation?a[c].validation:null});break;default:i=null}s.push(i)}var o=n.a.createElement(U,null,n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-title-info text-center"},n.a.createElement("h2",null,this.state.surveyData?this.state.surveyData.s_name:null))),s,n.a.createElement("div",{className:"survey-submit text-center"},n.a.createElement("button",{onClick:this.submitHandler,className:"btn-violet",type:"button"},this.state.submiting?"Submiting...":"Submit")));return this.state.showSuccess&&(r="context-holder vcenter survey-container",o=n.a.createElement("div",null,n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{height:"100",src:It.a,alt:"Success"})),n.a.createElement("p",{className:"text-message"},"Thank you for the feedback."))),"undefined"!==typeof this.props.lectureLog.log[+this.props.lectureId]&&(r="context-holder vcenter survey-container",o=n.a.createElement("div",null,n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{height:"100",src:It.a,alt:"Success"})),n.a.createElement("p",{className:"text-message"},"Survey already submitted."),n.a.createElement("div",{className:"text-center btn-container"},t&&n.a.createElement("button",{className:"btn-violet",onClick:function(){e.lectureSwitch({direction:"forward",lectureId:t.id})},type:"button"},"Continue")))),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Be,null),n.a.createElement(Re,null),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:r},n.a.createElement("div",{className:"context"},n.a.createElement("div",{className:"survey-wrapper"},this.state.loading?n.a.createElement("span",{className:"result-success"},"Loading survey..."):o)))),n.a.createElement(qe,null))}}]),t}(n.a.Component),Pt=Object(y.b)(function(e){return{courseDetails:e.course,lectureId:e.currLecId,currLecture:e.currLecture,lectureLog:e.lectureLog,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(xt)),Tt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.timer=null,r.state={time:4,currLecture:null,content:null,autoPlay:!0},r.timerComleted=function(){window.clearInterval(r.timer);var e=Object(b.a)({},r.state.currLecture);r.mounted&&r.setState({time:4,currLecture:null},function(){if("undefined"!==typeof e.nexLecture.id){r.props.switchTransform();var t="/".concat(r.props.courseId,"/").concat(e.nexLecture.id);r.props.history.push({pathname:t,state:{action:"forward"}})}else r.props.closeTransition(!0)})},r.autoPlayToggleHandler=function(){r.setState({autoPlay:!r.state.autoPlay},function(){r.props.autoPlayToggleHandler(r.state.autoPlay),r.state.autoPlay?r.timer=setInterval(function(){r.setState({time:0!==r.state.time?r.state.time-1:0})},1e3):window.clearInterval(r.timer)})},r.nextLectureHandler=function(){r.props.switchTransform();var e=Object(b.a)({},r.state.currLecture),t="/".concat(r.props.courseId,"/").concat(e.nexLecture.id);r.props.history.push({pathname:t,state:{action:"forward"}})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.setState({currLecture:this.props.currLecture,content:this.props.transContents[Math.floor(Math.random()*this.props.transContents.length)],autoPlay:this.props.autoPlay},function(){e.timer=setInterval(function(){e.mounted&&e.setState({time:0!==e.state.time?e.state.time-1:0})},1e3)})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){0===this.state.time&&this.timerComleted()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"transition-wrapper"},n.a.createElement("div",{className:"transition-tag"},n.a.createElement("h5",null,this.state.content?this.state.content.tc_content:null),n.a.createElement("span",{className:"transition-timer"},n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",onChange:function(){return e.autoPlayToggleHandler()},checked:this.state.autoPlay}),n.a.createElement("span",{className:"slider round"})),"Automatically playing in ",n.a.createElement("span",{className:"timer"},"0",this.state.time)," seconds"),n.a.createElement("div",{className:"next-prev-navigation"},n.a.createElement("div",{onClick:function(){return e.props.closeTransition(!0)},className:"previous"},n.a.createElement("span",null,"Stay Here")),n.a.createElement("div",{onClick:this.nextLectureHandler,className:"next"},n.a.createElement("span",null,"Next")))))}}]),t}(a.Component),At=Object(y.b)(function(e){return{currLecture:e.currLecture?e.currLecture:null,transContents:e.transition,courseId:e.subscription.id?e.subscription.cs_course_id:0,isPreview:e.isPreview}},null)(Object(v.a)(Tt)),Ct=r(52),Dt=r.n(Ct),Ut=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={reasons:null},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({reasons:Object(H.a)(this.props.reasons)}),console.log($(!1))}},{key:"componentDidUpdate",value:function(e,t){this.mounted&&JSON.stringify(e.reasons)!==JSON.stringify(this.props.reasons)&&this.setState({reasons:Object(H.a)(this.props.reasons)})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.reasons?this.state.reasons:[];return e=e.map(function(e,t){return n.a.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e}})}),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Re,{locked:!0}),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder locked-content"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"lock-img",src:Dt.a,alt:""})),n.a.createElement("h5",{className:"locked-title"},"Locked Content"),n.a.createElement("ol",{className:"locked-content-info text-center"},e))),n.a.createElement(qe,null))}}]),t}(a.Component),Mt=function(e,t){var r={header:{method:"update_percentage"},body:{course_id:e.courseId,subscriber_id:e.subscriptionId,course_percentage:e.percentage,last_played:e.lectureId,lecture_data:e.lectureData,lectureType:e.lectureType,lectureName:e.lectureName}};return x.post("/content",JSON.stringify(r)).then(function(e){return e.data.header?!(604!==e.data.header.code&&!e.data.header.error)&&(console.log("exit => ",r,e.data),!0):(console.log("exit => ","No response",r,e),!0)}).catch(function(e){return console.log("exit => ","error: ",e),!0})};window.addEventListener("beforeunload",K,!1);var Rt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={currLecture:null,currLectureId:0,lectureLog:null,subscription:null,showTransition:!1,autoPlay:!0,stayHere:!1,pointableLectures:null,loggerProgress:!1,videoHeight:window.innerHeight-120},r._handleResize=function(e){-1!==[1,4,7,15].indexOf(+r.state.currLecture.cl_lecture_type)&&(0===window.screen.orientation.angle?r.setState({videoHeight:window.innerHeight-120}):r.setState({videoHeight:"100%"}))},r.handleUpdate=function(e){r.setState({loggerProgress:!1})},r.autoPlayCompleteHandler=function(){r.state.autoPlay&&"undefined"!==typeof r.state.currLecture.nexLecture&&r.state.currLecture.nexLecture.id&&(r.props.currOpen||-1===[1,4,12].indexOf(+r.state.currLecture.cl_lecture_type)||r.setState({showTransition:!0}))},r.switchTransform=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.setState({showTransition:!1,stayHere:e})},r.autoPlayToggleHandler=function(e){r.setState({autoPlay:e})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mounted&&(window.onpopstate=function(){e.props.lectureSwitch(+e.props.match.params.lectureId)}),window.addEventListener("resize",this._handleResize),window.addEventListener("orientationchange",this._handleResize)}},{key:"populateLogData",value:function(){var e=[],t=Object(b.a)({},this.props.lectureLog.log);for(var r in t)e.push({lecture_id:r,percentage:t[r].percentage,cue:t[r].cue,views:t[r].views});var a={courseId:this.props.match.params.courseId,subscriptionId:this.props.subscription.id,percentage:this.props.lectureLog.overall_percentage,lectureType:this.props.currLecture.cl_lecture_type,lectureName:this.props.currLecture.cl_lecture_name,lectureId:this.props.currLecture.id,lectureData:e.concat()};return function(e){z=e}(Object(b.a)({},a,{isPreview:this.props.isPreview})),{lectureLog:e,logParams:a}}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.mounted&&this.props.currLecture&&this.populateLogData(),this.mounted&&this.props.currLecture&&"undefined"!==typeof this.props.currLecture.id&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:this.props.currLecture,currLectureId:this.props.currLecture?this.props.currLecture.id:0,subscription:this.state.subscription?this.state.subscription:this.props.subscription,lectureLog:this.props.lectureLog,pointableLectures:this.props.pointableLectures}),this.mounted&&this.props.lectureLog.update&&!this.props.isPreview){var r=this.populateLogData(),a=r.lectureLog,n=r.logParams;this.mounted&&this.props.lectureLog.update&&a.length&&!this.state.loggerProgress&&(this.props.logComplete(),this.setState({loggerProgress:!0},Object(F.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",Z(t.props.subscription.cs_course_id,t.props.isPreview,t.props.courseSlug));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:t.setState({loggerProgress:!1});case 11:case"end":return e.stop()}},e,this,[[0,8]])}))))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this._handleResize),window.removeEventListener("orientationchange",this._handleResize)}},{key:"render",value:function(){var e=this,t=this.props.config,r=null;if(this.state.currLectureId){switch(document.title=t.siteName+" - "+this.state.currLecture.cl_lecture_name,+this.state.currLecture.cl_lecture_type){case 1:r=1===parseInt(t.content_secuirity)?n.a.createElement(Ce,{onComplete:this.autoPlayCompleteHandler,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,courseId:this.props.subscription.cs_course_id,key:this.state.currLecture.id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight}):n.a.createElement(Le,{onComplete:this.autoPlayCompleteHandler,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,courseId:this.props.subscription.cs_course_id,key:this.state.currLecture.id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight});break;case 2:r=n.a.createElement(ze,{key:this.state.currLecture.id,currOpen:this.props.currOpen,courseId:this.props.subscription.cs_course_id,lectureId:this.state.currLectureId,documentId:this.state.currLecture.cl_org_file_name});break;case 5:r=n.a.createElement(Ve,{key:this.state.currLecture.id,lectureId:this.state.currLecture.id,courseId:this.state.subscription.cs_course_id});break;case 4:r=n.a.createElement(Ze,{key:this.state.currLecture.id,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,onComplete:this.autoPlayCompleteHandler,courseId:this.props.subscription.cs_course_id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight});break;case 12:r=n.a.createElement(et,{key:this.state.currLecture.id,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,onComplete:this.autoPlayCompleteHandler,lectureId:this.state.currLecture.id,audioId:this.state.currLecture.cl_org_file_name,courseId:this.state.subscription.cs_course_id});break;case 3:r=n.a.createElement(rt,{lectureId:this.state.currLectureId});break;case 10:r=n.a.createElement(ct,{lectureId:this.state.currLectureId,courseId:this.props.subscription.cs_course_id});break;case 7:r=n.a.createElement(Ot,{lectureId:this.state.currLectureId,courseId:this.props.subscription.cs_course_id,videoHeight:this.state.videoHeight});break;case 8:r=n.a.createElement(mt,{lectureId:this.state.currLectureId});break;case 13:r=n.a.createElement(Pt,{currOpen:this.props.currOpen,lectureId:this.state.currLectureId});break;case 14:r=n.a.createElement(yt,{currOpen:this.props.currOpen});break;case 11:r=n.a.createElement(Ue,{currOpen:this.props.currOpen});break;case 15:r=n.a.createElement(Le,{onComplete:this.autoPlayCompleteHandler,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,courseId:this.props.subscription.cs_course_id,key:this.state.currLecture.id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight});break;default:r=null}r=n.a.createElement("div",{className:"lecture-wrapper"},r)}r=this.state.showTransition?n.a.createElement(At,{switchTransform:this.switchTransform,autoPlay:this.state.autoPlay,closeTransition:function(t){return e.switchTransform(t)},autoPlayToggleHandler:function(t){return e.autoPlayToggleHandler(t)}}):r;var a={canplay:!0,reason:[]},s={canplay:!0,reason:[]};return this.props.override[this.state.currLectureId]&&this.props.override[this.state.currLectureId].length>0&&(a=te({studentLog:Object(b.a)({},this.state.lectureLog,{lecture_id:this.state.currLectureId}),overrides:this.props.override,userDetails:this.props.config.user_details})),this.state.currLecture&&(this.state.currLecture.cl_access_restriction||+this.state.currLecture.cl_limited_access)&&this.state.lectureLog&&(s=re({studentLog:Object(b.a)({},this.state.lectureLog,{lecture_id:this.state.currLectureId,batchOverride:Object(b.a)({},a.batchOverride)}),access:Object(b.a)({},JSON.parse(this.state.currLecture.cl_access_restriction),{access_limit:this.state.currLecture.cl_limited_access}),pointableLectures:Object(b.a)({},this.state.pointableLectures)})),a.canplay&&s.canplay||(r=n.a.createElement("div",{className:"lecture-wrapper"},n.a.createElement(Ut,{reasons:Object(H.a)(a.reason).concat(Object(H.a)(s.reason)),currOpen:this.props.currOpen}))),this.state.currLecture&&[3,8,10,14].indexOf(+this.state.currLecture.cl_lecture_type)>-1&&this.props.isPreview&&(r=n.a.createElement("div",{className:"lecture-wrapper"},n.a.createElement(Ut,{reasons:["Please purchase the course to view this item."],currOpen:this.props.currOpen}))),r}}]),t}(a.Component),Ht=Object(y.b)(function(e){return{config:e.config,override:e.override,currLecture:e.currLecture,subscription:e.subscription,currOpen:e.currOpen,lectureLog:e.lectureLog,pointableLectures:e.pointableLectures,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{lectureSwitch:function(t){return e({type:"SWITCH_LECTURE",payload:{lectureId:t}})},logComplete:function(){return e({type:"UPDATE_COMPLETE"})}}})(Object(v.a)(Rt)),qt=(r(113),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.host,t=this.props.token?"?token=".concat(this.props.token):"";return t=e?"".concat(t,"&host=").concat(e):t,n.a.createElement("div",{className:"discussion-right-wrapper"},n.a.createElement("div",{className:"discussion-right-head"},n.a.createElement("span",{className:"discussion-right-title"},"Question & Answers"),n.a.createElement("span",{onClick:this.props.onDiscussionToggle,className:"close-icon"})),n.a.createElement("div",{className:"discusion-container white-bg"},n.a.createElement("iframe",{title:"Forum",frameBorder:"0",style:{height:"calc(100vh - 66px)"},width:"100%",src:"./forum_service/index.html".concat(t,"#/").concat(this.props.match.params.courseId,"/").concat(this.props.match.params.lectureId,"/notmain")})))}}]),t}(n.a.Component)),Gt=Object(y.b)(function(e){return{token:e.token,host:e.host}},function(e){return{onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})}}})(Object(v.a)(qt)),Ft=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.handleFloatClick=function(){r.props.menuClose()},r._backToDashboard=function(){return Z(r.props.course.id,r.props.isPreview,r.props.courseSlug)},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props.menuOpen?"float-ui active":"float-ui";return n.a.createElement("div",{className:e,onClick:this.handleFloatClick},n.a.createElement("ul",null,n.a.createElement("li",{onClick:this._backToDashboard},"Exit to Dashboard"),n.a.createElement("li",null,"Cancel")))}}]),t}(a.Component);var zt=Object(y.b)(function(e){return{menuOpen:e.menuOpen,course:e.course,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{menuClose:function(){return e({type:g,payload:!1})}}})(Object(v.a)(Ft)),Wt=(r(115),function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,r.state={lectureId:0},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mounted&&this.props.match.params.lectureId&&this.setState({lectureId:+this.props.match.params.lectureId},function(){e.props.lectureSwitch(+e.props.match.params.lectureId)})}},{key:"componentDidUpdate",value:function(e){var t=this;this.mounted&&"undefined"!==this.props.match.params.lectureId&&e.match.params.lectureId!==this.props.match.params.lectureId&&this.setState({lectureId:+this.props.match.params.lectureId},function(){t.props.lectureSwitch(+t.props.match.params.lectureId)})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(!this.props.curriculumList)return null;var e=["row","content-delivery-wrapper"];return this.props.isPreview&&this.props.previewTimer<=0?(console.log("exit => ","Preview expired"),Z(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug),null):(this.mounted&&this.props.currOpen&&(e[e.length]="curriculam-toggle"),this.mounted&&this.props.dissOpen&&(e[e.length]="discussion-toggle"),this.mounted&&this.props.showList&&(e[e.length]="supportdoc-toggle"),n.a.createElement("div",null,n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:e.join(" ")},n.a.createElement(oe,{currList:this.props.curriculumList}),n.a.createElement(Ht,null),!this.props.isPreview&&n.a.createElement(Gt,{lectureId:this.props.match.params.lectureId}))),n.a.createElement(zt,null)))}}]),t}(a.Component)),Bt=Object(y.b)(function(e){return{currOpen:!!e.currOpen&&e.currOpen,dissOpen:!!e.dissOpen&&e.dissOpen,showList:e.showList,previewTimer:e.previewTimer,isPreview:e.isPreview,courseSlug:e.course.cb_slug,curriculumList:e.curriculumList}},function(e){return{lectureSwitch:function(t){return e({type:"SWITCH_LECTURE",payload:{lectureId:t}})},onCurriculumToggle:function(){return e({type:f})}}})(Object(v.a)(Wt));var Qt=function(e){return n.a.createElement("div",{className:"text-center not-found"},n.a.createElement("h1",null,"404"),n.a.createElement("h3",null,"Page Not Found"),n.a.createElement("p",null,"The page you are looking for doesn't exist."))},Vt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={hasError:!1},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",{className:"text-center not-found"},n.a.createElement("h1",null,"Something went wrong."),n.a.createElement("h3",null,"We sincerely regret the inconvenience caused.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component);r(117);var Jt=function(e){return n.a.createElement("div",{className:e.show?"toast show":"toast fade",role:"alert","aria-live":"assertive","aria-atomic":"true"},n.a.createElement("div",{className:"toast-header"},n.a.createElement("svg",{className:"bd-placeholder-img rounded mr-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},n.a.createElement("rect",{width:"100%",height:"100%",fill:"#007aff"})),n.a.createElement("strong",{className:"mr-auto"},e.header),n.a.createElement("button",{type:"button",onClick:e.closeClick,className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"toast-body"},e.text))},Yt=["apiUrl","assessmentUrl","content_secuirity","documentUrl","materialUrl","mp3Url","redactorUploadUrl","scormUrl","siteName","user_details"],Zt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={toastHead:"Back online",toastText:"You're now online.",toast:!1},r.onlineHandler=function(){r.timeoutObj&&clearTimeout(r.timeoutObj),r.timeoutObj=setTimeout(function(){window.location.reload()},1e3)},r.offlineHandler=function(){r.setState({toastHead:"Offline",toastText:"Please check your internet connection.",toast:!0})},r.handleCloseClick=function(){r.setState(function(e){return{toast:!e.toast}})},r.getCurriculumData=function(e){var t={header:{service:"",method:"initial_data"},body:{course_id:e}};return x.post("/content",JSON.stringify(t),{withCredentials:!0})},r}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("online",this.onlineHandler);var t=window.location.hash.split("#"),r=t.length>1?t[1].split("/"):[];if(isNaN(parseInt(r[1])))return console.log("exit => ","Invalid course id "), AndroidInterface.finish();var a=new URLSearchParams(window.location.search),n=a.get("token"),s=a.get("host");n&&(this.props.saveToken(n),localStorage.setItem("token",n)),s&&this.props.saveHost(s),this.getCurriculumData(r[1]).then(function(t){if(t.data.header.error)return console.log("exit => ",t.data), AndroidInterface.finish();var r,a=t.data.body.config,n=t.data.body.course_preview,s=t.data.body.curriculum_list;if(r=(r=Object.keys(a)).sort(),Yt.toString()!==r.toString())return console.log("exit => ","Invalid site configuration ",t.data), AndroidInterface.finish();if(e.props.saveConfigs(a),1===+n.course_preview){var c=0;+n.user_preview_time>0&&+n.course_preview_time>+n.user_preview_time?c=parseInt(n.course_preview_time,10)-parseInt(n.user_preview_time,10):0===+n.user_preview_time&&+n.course_preview_time>0&&(c=+n.course_preview_time),e.props.setPreviewTime(c),e.props.setPreviewEnabled()}e.props.setCurList(s)}).catch(function(e){return console.log("exit => ","curriculum error: ",e), AndroidInterface.finish()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.onlineHandler)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.toast&&n.a.createElement("div",{className:"toast-container"},n.a.createElement(Jt,{header:this.state.toastHead,show:this.state.toast,closeClick:this.handleCloseClick,text:this.state.toastText})),n.a.createElement(p.a,null,n.a.createElement(Vt,null,n.a.createElement(m.a,null,n.a.createElement(h.a,{path:"/:courseId/:lectureId?/:tab?",component:Bt}),n.a.createElement(h.a,{component:Qt})))))}}]),t}(a.Component),Xt=Object(y.b)(null,function(e){return{saveToken:function(t){return e({type:"SET_TOKEN",payload:t})},saveConfigs:function(t){return e({type:"SET_CONFIG",payload:t})},saveHost:function(t){return e({type:"SET_HOST",payload:t})},setPreviewTime:function(t){return e({type:"SET_PREVIEWTIME",payload:t})},setPreviewEnabled:function(){return e({type:"SET_PREVIEWENABLED"})},setCurList:function(t){return e({type:"SET_CUR_LIST",payload:t})}}})(Zt),Kt=r(20),$t={config:{},curriculumList:null,currOpen:!0,dissOpen:!1,curriculumLoaded:!1,course:{},curriculum:{},override:[],subscription:{},lectureLog:{},transition:[],pointableLectures:{},currLecture:null,currLecId:0,currSecId:0,menuOpen:!1,showList:!1,isPreview:!1,previewTimer:0,previewEnabled:!1,fullScreen:!1,token:"",host:"",descModalOpen:!1},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CUR_LIST":return Object(b.a)({},e,{curriculumList:t.payload});case f:return Object(b.a)({},e,{currOpen:!e.currOpen,dissOpen:!!e.currOpen&&e.dissOpen});case"TOGGLE_DISCUSSION":return Object(b.a)({},e,{dissOpen:!e.dissOpen,currOpen:!!e.dissOpen&&e.currOpen});case"SET_CURRICULUM":if(!e.curriculumLoaded){var r={},a={},n=Object(b.a)({},t.payload.data.curriculum),s=+t.payload.data.currentLectureId,c=Object(b.a)({},t.payload.data.curriculum.subscription);c.cs_lecture_log=c.cs_lecture_log?c.cs_lecture_log:"{}";var i=JSON.parse(c.cs_lecture_log);a.overall_percentage=t.payload.data.curriculum.subscription.cs_percentage,a.log=Object(b.a)({},i);for(var o=n.sections.sort(function(e,t){return+e.s_order_no-+t.s_order_no}),l={},u=0;u<n.override.length;u++){var d=n.override[u];l[d.lo_lecture_id]||(l[d.lo_lecture_id]=[]),l[d.lo_lecture_id].push(d)}var p={},m=0,h=0,v=0,y=0,E=[],w=0,O=0,L=0;return o=o.map(function(t,n){y++;var o=0;return t.s_lectures=t.s_lectures.filter(function(t){return e.isPreview?!(13===+t.cl_lecture_type):!("undefined"!==typeof a.log[+t.id]&&13===+t.cl_lecture_type)}),t.s_lectures=t.s_lectures.map(function(e,a){var l=!1;return e.sectionName=t.s_name,13===+e.cl_lecture_type?(w++,e.lNumber=w):3===+e.cl_lecture_type?(O++,o++,e.lNumber=O):8===+e.cl_lecture_type?(L++,o++,e.lNumber=L):(v++,o++,e.lNumber=v),e.sNumber=y,e.percentage=0,e.views=0,e.cue=0,i&&"undefined"!==typeof i[+e.id]&&(e.percentage=parseInt(i[+e.id].percentage),e.views=parseInt(i[+e.id].views),e.cue=parseInt(i[+e.id].cue)),e.changes=!1,"object"!==typeof p.nexLecture||p.nexLecture.id||(p.nexLecture=Object(b.a)({},e)),(s&&s===+e.id||!s&&0!==+c.cs_last_played_lecture&&+c.cs_last_played_lecture===+e.id||!s&&0===n&&0===a)&&(p=Object(b.a)({},e),m=+e.id,l=!0,h=t.id,p.prevLecture=1,p.nexLecture={}),"object"!==typeof p.prevLecture&&(p.prevLecture="undefined"!==typeof E[E.length-1]?Object(b.a)({},E[E.length-1]):{}),r[+e.id]=e,E.push(e),Object(b.a)({},e,{current:l})}),Object(b.a)({},t,{open:!1,current:!1,lectureCount:o})}),Object(b.a)({},e,{curriculum:Object(H.a)(o),override:l,course:Object(b.a)({},t.payload.data.course),curriculumLoaded:!0,currLecture:p,currLecId:m,currSecId:h,subscription:Object(b.a)({},c),transition:Object(H.a)(t.payload.data.transition.transition_contents),lectureLog:Object(b.a)({},a),pointableLectures:Object(b.a)({},r)})}break;case"TOGGLE_SECTION":var N=Object(H.a)(e.curriculum),_=t.payload.sectionId;return N=N.map(function(e,t){return e.open=void 0!==e.open&&e.open,+e.id===+_&&(e.open=!e.open),e}),Object(b.a)({},e,{curriculum:N,currSecId:+_});case"SWITCH_LECTURE":var k=0,S=0,j={},I=[],x=(Array.isArray(e.curriculum)?e.curriculum:[]).map(function(r,a){return(r=Object(b.a)({},r)).current=!1,r.s_lectures=r.s_lectures.filter(function(t){return!("undefined"!==typeof e.lectureLog.log[+t.id]&&13===+t.cl_lecture_type)}),r.s_lectures=r.s_lectures.map(function(e,a){return(e=Object(b.a)({},e)).current=!1,"object"!==typeof j.nexLecture||j.nexLecture.id||(j.nexLecture=Object(b.a)({},e)),+t.payload.lectureId===+e.id&&(e.current=!0,r.current=!0,r.open=!0,k=+e.id,S=+r.id,(j=Object(b.a)({},e)).prevLecture=1,j.nexLecture={}),"object"!==typeof j.prevLecture&&(j.prevLecture="undefined"!==typeof I[I.length-1]?Object(b.a)({},I[I.length-1]):{}),I.push(e),e}),r});if(e.course.id){var P={};try{P=(P=(P=localStorage.getItem("resume_id"))?JSON.parse(P):{})instanceof Object?P:{}}catch(q){P={}}P["cid_".concat(e.course.id)]=t.payload.lectureId,localStorage.setItem("resume_id",JSON.stringify(P))}return Object(b.a)({},e,{currLecture:Object(b.a)({},j),curriculum:x,currLecId:k,currSecId:S});case"UPDATE_PERCENTAGE":var T={},A=0,C=0,D=Object(b.a)({},e.lectureLog);D.update=!!D.update&&D.update;var U=e.curriculum.map(function(e,r){return(e=Object(b.a)({},e)).s_lectures=e.s_lectures.map(function(e,r){if(A++,T=Object(b.a)({},e),+t.payload.lectureId===+e.id){T.percentage=t.payload.percentage,T.cue=t.payload.cue,T.update=!1,T.views="undefined"!==typeof T.views?T.views:0,T.percentage="undefined"!==typeof T.percentage?T.percentage:0,t.payload.completed&&(T.views+=1,T.cue=0,T.update=!0),"undefined"===typeof D.log[+T.id]&&(D.log[+T.id]={});var a=+T.cl_limited_access>0&&T.views>+T.cl_limited_access?+T.cl_limited_access:T.views;D.log[+T.id].percentage=T.percentage,D.log[+T.id].views=a,D.log[+T.id].nviews=T.views-1,D.log[+T.id].cue=T.cue,D.log[+T.id].update=T.update,T.changes=!0}if(T.views>0)C+=100;else{var n=parseInt(T.percentage);C+=isNaN(n)?0:n}return Object(b.a)({},T)}),Object(b.a)({},e)});return C/=A,D.overall_percentage=C,D.update=D.update?D.update:t.payload.completed,Object(b.a)({},e,{curriculum:Object(H.a)(U),lectureLog:Object(b.a)({},D)});case"UPDATE_COMPLETE":for(var M in(D=Object(b.a)({},e.lectureLog)).update=!1,D.log)D.log[M].update=!1;return Object(b.a)({},e,{lectureLog:Object(b.a)({},D)});case g:return Object(b.a)({},e,{menuOpen:t.payload});case"SHOW_LIST":return Object(b.a)({},e,{showList:!e.showList});case"SET_CONFIG":return Object(b.a)({},e,{config:t.payload});case"SET_PREVIEW":return Object(b.a)({},e,{isPreview:!0});case"SET_PREVIEWTIME":var R=t.payload?t.payload:--e.previewTimer;return Object(b.a)({},e,{previewTimer:R});case"SET_PREVIEWENABLED":return Object(b.a)({},e,{previewEnabled:!0});case"SET_FULLSCREEN":return Object(b.a)({},e,{fullScreen:!e.fullScreen});case"SET_TOKEN":return Object(b.a)({},e,{token:t.payload});case"SET_HOST":return Object(b.a)({},e,{host:t.payload});case"SET_MODALOPEN":return Object(b.a)({},e,{descModalOpen:t.payload});default:return e}};window.BUILD_DATE="2019_11_25";var tr=Object(Kt.b)(er),rr=n.a.createElement(y.a,{store:tr},n.a.createElement(Xt,null));c.a.render(rr,document.getElementById("root"))},19:function(e,t,r){},24:function(e,t,r){e.exports=r.p+"static/media/info.59d1a698.svg"},25:function(e,t,r){e.exports=r.p+"static/media/poster.dc04c36a.svg"},30:function(e,t,r){e.exports=r.p+"static/media/check.dee3512a.svg"},38:function(e,t,r){},43:function(e,t,r){e.exports=r.p+"static/media/baseline-lock-24px.6e97143e.svg"},49:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB0CAYAAABOpvapAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxRjYwMEY3ODFFOURFODExQTNERTk1QjFDMTREQTlDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQUY3M0E1RjRBMEIxMUU5OTc4OEU0MkVGQTlBQzQzMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQUY3M0E1RTRBMEIxMUU5OTc4OEU0MkVGQTlBQzQzMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3ZTVkNTFlLTAxZGYtNDg1ZC1hYmU4LTk3ZWEyNjRmNjFhNCIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmQ1MWRkYmFjLTRmMWMtMTE3Yy05MDQ4LWMw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"},50:function(e,t,r){e.exports=r.p+"static/media/attachment.9eef3a51.svg"},51:function(e,t,r){e.exports=r.p+"static/media/certificate-icon.ba8bf677.jpg"},52:function(e,t){e.exports="data:image/png;base64,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"},55:function(e,t,r){e.exports=r(119)},60:function(e,t,r){},62:function(e,t,r){},64:function(e,t,r){},66:function(e,t,r){},68:function(e,t,r){}},[[55,2,1]]]);